{"dependencies":[{"name":"expo-contacts","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":42,"index":42}}],"key":"xdLl7lq8PHtMOf54bAXZ6l+sdqI=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Platform","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dV3bI3NOD8bfMzaIniMaFGy/nn8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.requestContactsPermission = requestContactsPermission;\n  exports.importPhoneContacts = importPhoneContacts;\n  exports.formatContactForCRM = formatContactForCRM;\n  var _expoContacts = require(_dependencyMap[0], \"expo-contacts\");\n  var Contacts = _interopNamespace(_expoContacts);\n  var _reactNativeWebDistExportsPlatform = require(_dependencyMap[1], \"react-native-web/dist/exports/Platform\");\n  var Platform = _interopDefault(_reactNativeWebDistExportsPlatform);\n  async function requestContactsPermission() {\n    try {\n      const {\n        status: existingStatus\n      } = await Contacts.getPermissionsAsync();\n      let finalStatus = existingStatus;\n      if (existingStatus !== 'granted') {\n        const {\n          status\n        } = await Contacts.requestPermissionsAsync();\n        finalStatus = status;\n      }\n      return finalStatus === 'granted';\n    } catch (error) {\n      console.error('Error requesting contacts permission:', error);\n      return false;\n    }\n  }\n  async function importPhoneContacts() {\n    try {\n      const hasPermission = await requestContactsPermission();\n      if (!hasPermission) {\n        throw new Error('Contacts permission not granted');\n      }\n\n      // Check platform - contacts not available on web\n      if (Platform.default.OS === 'web') {\n        console.log('Contacts not available on web');\n        return [];\n      }\n      const result = await Contacts.getContactsAsync({\n        fields: [Contacts.Fields.Name, Contacts.Fields.PhoneNumbers, Contacts.Fields.Emails, Contacts.Fields.Company, Contacts.Fields.JobTitle, Contacts.Fields.Birthday, Contacts.Fields.Image, Contacts.Fields.ID]\n      });\n\n      // Handle null/undefined result\n      if (!result || !result.data) {\n        console.log('No contacts data returned');\n        return [];\n      }\n      const {\n        data\n      } = result;\n      const importedContacts = data.filter(contact => contact.name) // Only contacts with names\n      .map(contact => ({\n        name: contact.name || 'Unknown',\n        phoneNumbers: contact.phoneNumbers?.map(p => p.number || '') || [],\n        emails: contact.emails?.map(e => e.email || '') || [],\n        company: contact.company,\n        jobTitle: contact.jobTitle,\n        birthday: contact.birthday ? new Date(contact.birthday.year || 2000, (contact.birthday.month || 1) - 1, contact.birthday.day || 1).toLocaleDateString() : undefined,\n        image: contact.image,\n        id: contact.id\n      }));\n      console.log(`Imported ${importedContacts.length} contacts with full data`);\n      return importedContacts;\n    } catch (error) {\n      console.error('Error importing contacts:', error);\n      throw error;\n    }\n  }\n  function formatContactForCRM(importedContact) {\n    return {\n      name: importedContact.name,\n      job: importedContact.jobTitle || importedContact.company || '',\n      phone: importedContact.phoneNumbers && importedContact.phoneNumbers.length > 0 ? importedContact.phoneNumbers[0] : '',\n      email: importedContact.emails && importedContact.emails.length > 0 ? importedContact.emails[0] : '',\n      birthday: importedContact.birthday || '',\n      profile_picture: importedContact.image?.uri || '',\n      device_contact_id: importedContact.id || '',\n      tags: [],\n      groups: [],\n      pipeline_stage: 'New',\n      // NEW: Imported contacts go to \"New\" stage\n      language: 'English',\n      tone: 'Casual',\n      notes: `Imported from phone contacts`\n    };\n  }\n});","lineCount":112,"map":[[27,2,15,0,"exports"],[27,9,15,0],[27,10,15,0,"requestContactsPermission"],[27,35,15,0],[27,38,15,0,"requestContactsPermission"],[27,63,15,0],[28,2,32,0,"exports"],[28,9,32,0],[28,10,32,0,"importPhoneContacts"],[28,29,32,0],[28,32,32,0,"importPhoneContacts"],[28,51,32,0],[29,2,88,0,"exports"],[29,9,88,0],[29,10,88,0,"formatContactForCRM"],[29,29,88,0],[29,32,88,0,"formatContactForCRM"],[29,51,88,0],[30,2,1,0],[30,6,1,0,"_expoContacts"],[30,19,1,0],[30,22,1,0,"require"],[30,29,1,0],[30,30,1,0,"_dependencyMap"],[30,44,1,0],[31,2,1,0],[31,6,1,0,"Contacts"],[31,14,1,0],[31,17,1,0,"_interopNamespace"],[31,34,1,0],[31,35,1,0,"_expoContacts"],[31,48,1,0],[32,2,1,42],[32,6,1,42,"_reactNativeWebDistExportsPlatform"],[32,40,1,42],[32,43,1,42,"require"],[32,50,1,42],[32,51,1,42,"_dependencyMap"],[32,65,1,42],[33,2,1,42],[33,6,1,42,"Platform"],[33,14,1,42],[33,17,1,42,"_interopDefault"],[33,32,1,42],[33,33,1,42,"_reactNativeWebDistExportsPlatform"],[33,67,1,42],[34,2,15,7],[34,17,15,22,"requestContactsPermission"],[34,42,15,47,"requestContactsPermission"],[34,43,15,47],[34,45,15,68],[35,4,16,2],[35,8,16,6],[36,6,17,4],[36,12,17,10],[37,8,17,12,"status"],[37,14,17,18],[37,16,17,20,"existingStatus"],[38,6,17,35],[38,7,17,36],[38,10,17,39],[38,16,17,45,"Contacts"],[38,24,17,53],[38,25,17,54,"getPermissionsAsync"],[38,44,17,73],[38,45,17,74],[38,46,17,75],[39,6,18,4],[39,10,18,8,"finalStatus"],[39,21,18,19],[39,24,18,22,"existingStatus"],[39,38,18,36],[40,6,20,4],[40,10,20,8,"existingStatus"],[40,24,20,22],[40,29,20,27],[40,38,20,36],[40,40,20,38],[41,8,21,6],[41,14,21,12],[42,10,21,14,"status"],[43,8,21,21],[43,9,21,22],[43,12,21,25],[43,18,21,31,"Contacts"],[43,26,21,39],[43,27,21,40,"requestPermissionsAsync"],[43,50,21,63],[43,51,21,64],[43,52,21,65],[44,8,22,6,"finalStatus"],[44,19,22,17],[44,22,22,20,"status"],[44,28,22,26],[45,6,23,4],[46,6,25,4],[46,13,25,11,"finalStatus"],[46,24,25,22],[46,29,25,27],[46,38,25,36],[47,4,26,2],[47,5,26,3],[47,6,26,4],[47,13,26,11,"error"],[47,18,26,16],[47,20,26,18],[48,6,27,4,"console"],[48,13,27,11],[48,14,27,12,"error"],[48,19,27,17],[48,20,27,18],[48,59,27,57],[48,61,27,59,"error"],[48,66,27,64],[48,67,27,65],[49,6,28,4],[49,13,28,11],[49,18,28,16],[50,4,29,2],[51,2,30,0],[52,2,32,7],[52,17,32,22,"importPhoneContacts"],[52,36,32,41,"importPhoneContacts"],[52,37,32,41],[52,39,32,72],[53,4,33,2],[53,8,33,6],[54,6,34,4],[54,12,34,10,"hasPermission"],[54,25,34,23],[54,28,34,26],[54,34,34,32,"requestContactsPermission"],[54,59,34,57],[54,60,34,58],[54,61,34,59],[55,6,36,4],[55,10,36,8],[55,11,36,9,"hasPermission"],[55,24,36,22],[55,26,36,24],[56,8,37,6],[56,14,37,12],[56,18,37,16,"Error"],[56,23,37,21],[56,24,37,22],[56,57,37,55],[56,58,37,56],[57,6,38,4],[59,6,40,4],[60,6,41,4],[60,10,41,8,"Platform"],[60,18,41,16],[60,19,41,16,"default"],[60,26,41,16],[60,27,41,17,"OS"],[60,29,41,19],[60,34,41,24],[60,39,41,29],[60,41,41,31],[61,8,42,6,"console"],[61,15,42,13],[61,16,42,14,"log"],[61,19,42,17],[61,20,42,18],[61,51,42,49],[61,52,42,50],[62,8,43,6],[62,15,43,13],[62,17,43,15],[63,6,44,4],[64,6,46,4],[64,12,46,10,"result"],[64,18,46,16],[64,21,46,19],[64,27,46,25,"Contacts"],[64,35,46,33],[64,36,46,34,"getContactsAsync"],[64,52,46,50],[64,53,46,51],[65,8,47,6,"fields"],[65,14,47,12],[65,16,47,14],[65,17,48,8,"Contacts"],[65,25,48,16],[65,26,48,17,"Fields"],[65,32,48,23],[65,33,48,24,"Name"],[65,37,48,28],[65,39,49,8,"Contacts"],[65,47,49,16],[65,48,49,17,"Fields"],[65,54,49,23],[65,55,49,24,"PhoneNumbers"],[65,67,49,36],[65,69,50,8,"Contacts"],[65,77,50,16],[65,78,50,17,"Fields"],[65,84,50,23],[65,85,50,24,"Emails"],[65,91,50,30],[65,93,51,8,"Contacts"],[65,101,51,16],[65,102,51,17,"Fields"],[65,108,51,23],[65,109,51,24,"Company"],[65,116,51,31],[65,118,52,8,"Contacts"],[65,126,52,16],[65,127,52,17,"Fields"],[65,133,52,23],[65,134,52,24,"JobTitle"],[65,142,52,32],[65,144,53,8,"Contacts"],[65,152,53,16],[65,153,53,17,"Fields"],[65,159,53,23],[65,160,53,24,"Birthday"],[65,168,53,32],[65,170,54,8,"Contacts"],[65,178,54,16],[65,179,54,17,"Fields"],[65,185,54,23],[65,186,54,24,"Image"],[65,191,54,29],[65,193,55,8,"Contacts"],[65,201,55,16],[65,202,55,17,"Fields"],[65,208,55,23],[65,209,55,24,"ID"],[65,211,55,26],[66,6,57,4],[66,7,57,5],[66,8,57,6],[68,6,59,4],[69,6,60,4],[69,10,60,8],[69,11,60,9,"result"],[69,17,60,15],[69,21,60,19],[69,22,60,20,"result"],[69,28,60,26],[69,29,60,27,"data"],[69,33,60,31],[69,35,60,33],[70,8,61,6,"console"],[70,15,61,13],[70,16,61,14,"log"],[70,19,61,17],[70,20,61,18],[70,47,61,45],[70,48,61,46],[71,8,62,6],[71,15,62,13],[71,17,62,15],[72,6,63,4],[73,6,65,4],[73,12,65,10],[74,8,65,12,"data"],[75,6,65,17],[75,7,65,18],[75,10,65,21,"result"],[75,16,65,27],[76,6,67,4],[76,12,67,10,"importedContacts"],[76,28,67,45],[76,31,67,48,"data"],[76,35,67,52],[76,36,68,7,"filter"],[76,42,68,13],[76,43,68,15,"contact"],[76,50,68,22],[76,54,68,27,"contact"],[76,61,68,34],[76,62,68,35,"name"],[76,66,68,39],[76,67,68,40],[76,68,68,41],[77,6,68,41],[77,7,69,7,"map"],[77,10,69,10],[77,11,69,12,"contact"],[77,18,69,19],[77,23,69,25],[78,8,70,8,"name"],[78,12,70,12],[78,14,70,14,"contact"],[78,21,70,21],[78,22,70,22,"name"],[78,26,70,26],[78,30,70,30],[78,39,70,39],[79,8,71,8,"phoneNumbers"],[79,20,71,20],[79,22,71,22,"contact"],[79,29,71,29],[79,30,71,30,"phoneNumbers"],[79,42,71,42],[79,44,71,44,"map"],[79,47,71,47],[79,48,71,49,"p"],[79,49,71,50],[79,53,71,55,"p"],[79,54,71,56],[79,55,71,57,"number"],[79,61,71,63],[79,65,71,67],[79,67,71,69],[79,68,71,70],[79,72,71,74],[79,74,71,76],[80,8,72,8,"emails"],[80,14,72,14],[80,16,72,16,"contact"],[80,23,72,23],[80,24,72,24,"emails"],[80,30,72,30],[80,32,72,32,"map"],[80,35,72,35],[80,36,72,37,"e"],[80,37,72,38],[80,41,72,43,"e"],[80,42,72,44],[80,43,72,45,"email"],[80,48,72,50],[80,52,72,54],[80,54,72,56],[80,55,72,57],[80,59,72,61],[80,61,72,63],[81,8,73,8,"company"],[81,15,73,15],[81,17,73,17,"contact"],[81,24,73,24],[81,25,73,25,"company"],[81,32,73,32],[82,8,74,8,"jobTitle"],[82,16,74,16],[82,18,74,18,"contact"],[82,25,74,25],[82,26,74,26,"jobTitle"],[82,34,74,34],[83,8,75,8,"birthday"],[83,16,75,16],[83,18,75,18,"contact"],[83,25,75,25],[83,26,75,26,"birthday"],[83,34,75,34],[83,37,75,37],[83,41,75,41,"Date"],[83,45,75,45],[83,46,75,46,"contact"],[83,53,75,53],[83,54,75,54,"birthday"],[83,62,75,62],[83,63,75,63,"year"],[83,67,75,67],[83,71,75,71],[83,75,75,75],[83,77,75,77],[83,78,75,78,"contact"],[83,85,75,85],[83,86,75,86,"birthday"],[83,94,75,94],[83,95,75,95,"month"],[83,100,75,100],[83,104,75,104],[83,105,75,105],[83,109,75,109],[83,110,75,110],[83,112,75,112,"contact"],[83,119,75,119],[83,120,75,120,"birthday"],[83,128,75,128],[83,129,75,129,"day"],[83,132,75,132],[83,136,75,136],[83,137,75,137],[83,138,75,138],[83,139,75,139,"toLocaleDateString"],[83,157,75,157],[83,158,75,158],[83,159,75,159],[83,162,75,162,"undefined"],[83,171,75,171],[84,8,76,8,"image"],[84,13,76,13],[84,15,76,15,"contact"],[84,22,76,22],[84,23,76,23,"image"],[84,28,76,28],[85,8,77,8,"id"],[85,10,77,10],[85,12,77,12,"contact"],[85,19,77,19],[85,20,77,20,"id"],[86,6,78,6],[86,7,78,7],[86,8,78,8],[86,9,78,9],[87,6,80,4,"console"],[87,13,80,11],[87,14,80,12,"log"],[87,17,80,15],[87,18,80,16],[87,30,80,28,"importedContacts"],[87,46,80,44],[87,47,80,45,"length"],[87,53,80,51],[87,79,80,77],[87,80,80,78],[88,6,81,4],[88,13,81,11,"importedContacts"],[88,29,81,27],[89,4,82,2],[89,5,82,3],[89,6,82,4],[89,13,82,11,"error"],[89,18,82,16],[89,20,82,18],[90,6,83,4,"console"],[90,13,83,11],[90,14,83,12,"error"],[90,19,83,17],[90,20,83,18],[90,47,83,45],[90,49,83,47,"error"],[90,54,83,52],[90,55,83,53],[91,6,84,4],[91,12,84,10,"error"],[91,17,84,15],[92,4,85,2],[93,2,86,0],[94,2,88,7],[94,11,88,16,"formatContactForCRM"],[94,30,88,35,"formatContactForCRM"],[94,31,88,36,"importedContact"],[94,46,88,68],[94,48,88,70],[95,4,89,2],[95,11,89,9],[96,6,90,4,"name"],[96,10,90,8],[96,12,90,10,"importedContact"],[96,27,90,25],[96,28,90,26,"name"],[96,32,90,30],[97,6,91,4,"job"],[97,9,91,7],[97,11,91,9,"importedContact"],[97,26,91,24],[97,27,91,25,"jobTitle"],[97,35,91,33],[97,39,91,37,"importedContact"],[97,54,91,52],[97,55,91,53,"company"],[97,62,91,60],[97,66,91,64],[97,68,91,66],[98,6,92,4,"phone"],[98,11,92,9],[98,13,92,11,"importedContact"],[98,28,92,26],[98,29,92,27,"phoneNumbers"],[98,41,92,39],[98,45,92,43,"importedContact"],[98,60,92,58],[98,61,92,59,"phoneNumbers"],[98,73,92,71],[98,74,92,72,"length"],[98,80,92,78],[98,83,92,81],[98,84,92,82],[98,87,92,85,"importedContact"],[98,102,92,100],[98,103,92,101,"phoneNumbers"],[98,115,92,113],[98,116,92,114],[98,117,92,115],[98,118,92,116],[98,121,92,119],[98,123,92,121],[99,6,93,4,"email"],[99,11,93,9],[99,13,93,11,"importedContact"],[99,28,93,26],[99,29,93,27,"emails"],[99,35,93,33],[99,39,93,37,"importedContact"],[99,54,93,52],[99,55,93,53,"emails"],[99,61,93,59],[99,62,93,60,"length"],[99,68,93,66],[99,71,93,69],[99,72,93,70],[99,75,93,73,"importedContact"],[99,90,93,88],[99,91,93,89,"emails"],[99,97,93,95],[99,98,93,96],[99,99,93,97],[99,100,93,98],[99,103,93,101],[99,105,93,103],[100,6,94,4,"birthday"],[100,14,94,12],[100,16,94,14,"importedContact"],[100,31,94,29],[100,32,94,30,"birthday"],[100,40,94,38],[100,44,94,42],[100,46,94,44],[101,6,95,4,"profile_picture"],[101,21,95,19],[101,23,95,21,"importedContact"],[101,38,95,36],[101,39,95,37,"image"],[101,44,95,42],[101,46,95,44,"uri"],[101,49,95,47],[101,53,95,51],[101,55,95,53],[102,6,96,4,"device_contact_id"],[102,23,96,21],[102,25,96,23,"importedContact"],[102,40,96,38],[102,41,96,39,"id"],[102,43,96,41],[102,47,96,45],[102,49,96,47],[103,6,97,4,"tags"],[103,10,97,8],[103,12,97,10],[103,14,97,12],[104,6,98,4,"groups"],[104,12,98,10],[104,14,98,12],[104,16,98,14],[105,6,99,4,"pipeline_stage"],[105,20,99,18],[105,22,99,20],[105,27,99,25],[106,6,99,28],[107,6,100,4,"language"],[107,14,100,12],[107,16,100,14],[107,25,100,23],[108,6,101,4,"tone"],[108,10,101,8],[108,12,101,10],[108,20,101,18],[109,6,102,4,"notes"],[109,11,102,9],[109,13,102,11],[110,4,103,2],[110,5,103,3],[111,2,104,0],[112,0,104,1],[112,3]],"functionMap":{"names":["<global>","requestContactsPermission","importPhoneContacts","data.filter$argument_0","data.filter.map$argument_0","contact.phoneNumbers.map$argument_0","contact.emails.map$argument_0","formatContactForCRM"],"mappings":"AAA;OCc;CDe;OEE;cCoC,yBD;WEC;gDCE,qBD;oCEC,oBF;QFM;CFQ;OOE;CPgB"},"hasCjsExports":false},"type":"js/module"}]}