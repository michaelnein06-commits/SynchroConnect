{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":7,"column":16,"index":281},"end":{"line":7,"column":32,"index":297}}],"key":"XN65eZP/QkNMzaBAXbG/zPyidpY=","exportNames":["*"],"imports":1}},{"name":"typesafe-actions","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":8,"column":27,"index":326},"end":{"line":8,"column":54,"index":353}}],"key":"xfab0flF5mFDvarqcwhKW9jbzcI=","exportNames":["*"],"imports":1}},{"name":"lodash.isequal","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":9,"column":41,"index":396},"end":{"line":9,"column":66,"index":421}}],"key":"9t8g9X4zI/sq8cY+uy1cwA14SCc=","exportNames":["*"],"imports":1}},{"name":"../types","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":10,"column":16,"index":440},"end":{"line":10,"column":35,"index":459}}],"key":"2+h21LM/+NVMQKDHaRawSQRYYOQ=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var __importDefault = this && this.__importDefault || function (mod) {\n    return mod && mod.__esModule ? mod : {\n      \"default\": mod\n    };\n  };\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.useDraxState = exports.actions = void 0;\n  const react_1 = require(_dependencyMap[0], \"react\");\n  const typesafe_actions_1 = require(_dependencyMap[1], \"typesafe-actions\");\n  const lodash_isequal_1 = __importDefault(require(_dependencyMap[2], \"lodash.isequal\"));\n  const types_1 = require(_dependencyMap[3], \"../types\");\n  /** Create the initial empty view state data for a newly registered view. */\n  const createInitialViewState = () => ({\n    dragStatus: types_1.DraxViewDragStatus.Inactive,\n    dragAbsolutePosition: undefined,\n    dragOffset: undefined,\n    grabOffset: undefined,\n    grabOffsetRatio: undefined,\n    draggingOverReceiver: undefined,\n    receiveStatus: types_1.DraxViewReceiveStatus.Inactive,\n    receiveOffset: undefined,\n    receiveOffsetRatio: undefined,\n    receivingDrag: undefined\n  });\n  /** Create an initial empty Drax state. */\n  const createInitialState = () => ({\n    viewStateById: {},\n    trackingStatus: {\n      dragging: false,\n      receiving: false\n    }\n  });\n  /** Selector for a view state by view id. */\n  const selectViewState = (state, id) => id === undefined ? undefined : state.viewStateById[id];\n  /** Selector for tracking status. */\n  const selectTrackingStatus = state => state.trackingStatus;\n  /** Collection of Drax action creators */\n  exports.actions = {\n    createViewState: (0, typesafe_actions_1.createAction)('createViewState')(),\n    updateViewState: (0, typesafe_actions_1.createAction)('updateViewState')(),\n    deleteViewState: (0, typesafe_actions_1.createAction)('deleteViewState')(),\n    updateTrackingStatus: (0, typesafe_actions_1.createAction)('updateTrackingStatus')()\n  };\n  /** The DraxState reducer. */\n  const reducer = (state, action) => {\n    switch (action.type) {\n      case (0, typesafe_actions_1.getType)(exports.actions.createViewState):\n        {\n          const {\n            id\n          } = action.payload;\n          const viewState = selectViewState(state, id);\n          if (viewState) {\n            return state;\n          }\n          return {\n            ...state,\n            viewStateById: {\n              ...state.viewStateById,\n              [id]: createInitialViewState()\n            }\n          };\n        }\n      case (0, typesafe_actions_1.getType)(exports.actions.updateViewState):\n        {\n          const {\n            id,\n            viewStateUpdate\n          } = action.payload;\n          const viewState = selectViewState(state, id);\n          if (viewState) {\n            const newViewState = {\n              ...viewState,\n              ...viewStateUpdate\n            };\n            if ((0, lodash_isequal_1.default)(viewState, newViewState)) {\n              return state;\n            }\n            return {\n              ...state,\n              viewStateById: {\n                ...state.viewStateById,\n                [id]: newViewState\n              }\n            };\n          }\n          return state;\n        }\n      case (0, typesafe_actions_1.getType)(exports.actions.deleteViewState):\n        {\n          const {\n            id\n          } = action.payload;\n          const {\n            [id]: removed,\n            ...viewStateById\n          } = state.viewStateById;\n          if (removed) {\n            return {\n              ...state,\n              viewStateById\n            };\n          }\n          return state;\n        }\n      case (0, typesafe_actions_1.getType)(exports.actions.updateTrackingStatus):\n        {\n          return {\n            ...state,\n            trackingStatus: {\n              ...state.trackingStatus,\n              ...action.payload\n            }\n          };\n        }\n      default:\n        return state;\n    }\n  };\n  /** Create a Drax state and wire up its methods. */\n  const useDraxState = () => {\n    /** Reducer for storing view states and tracking status. */\n    const [state, dispatch] = (0, react_1.useReducer)(reducer, undefined, createInitialState);\n    /** Get state for a view by its id. */\n    const getViewState = (0, react_1.useCallback)(id => selectViewState(state, id), [state]);\n    /** Get the current tracking status. */\n    const getTrackingStatus = (0, react_1.useCallback)(() => selectTrackingStatus(state), [state]);\n    /** Create the Drax state object for return, only replacing reference when necessary. */\n    const draxState = (0, react_1.useMemo)(() => ({\n      getViewState,\n      getTrackingStatus,\n      dispatch\n    }), [getViewState, getTrackingStatus]);\n    /*\n    useEffect(() => {\n        console.log(`Rendering drax state ${JSON.stringify(state, null, 2)}`);\n    });\n    */\n    return draxState;\n  };\n  exports.useDraxState = useDraxState;\n});","lineCount":147,"map":[[2,2,1,0],[2,14,1,12],[4,2,2,0],[4,6,2,4,"__importDefault"],[4,21,2,19],[4,24,2,23],[4,28,2,27],[4,32,2,31],[4,36,2,35],[4,37,2,36,"__importDefault"],[4,52,2,51],[4,56,2,56],[4,66,2,66,"mod"],[4,69,2,69],[4,71,2,71],[5,4,3,4],[5,11,3,12,"mod"],[5,14,3,15],[5,18,3,19,"mod"],[5,21,3,22],[5,22,3,23,"__esModule"],[5,32,3,33],[5,35,3,37,"mod"],[5,38,3,40],[5,41,3,43],[6,6,3,45],[6,15,3,54],[6,17,3,56,"mod"],[7,4,3,60],[7,5,3,61],[8,2,4,0],[8,3,4,1],[9,2,5,0,"Object"],[9,8,5,6],[9,9,5,7,"defineProperty"],[9,23,5,21],[9,24,5,22,"exports"],[9,31,5,29],[9,33,5,31],[9,45,5,43],[9,47,5,45],[10,4,5,47,"value"],[10,9,5,52],[10,11,5,54],[11,2,5,59],[11,3,5,60],[11,4,5,61],[12,2,6,0,"exports"],[12,9,6,7],[12,10,6,8,"useDraxState"],[12,22,6,20],[12,25,6,23,"exports"],[12,32,6,30],[12,33,6,31,"actions"],[12,40,6,38],[12,43,6,41],[12,48,6,46],[12,49,6,47],[13,2,7,0],[13,8,7,6,"react_1"],[13,15,7,13],[13,18,7,16,"require"],[13,25,7,23],[13,26,7,23,"_dependencyMap"],[13,40,7,23],[13,52,7,31],[13,53,7,32],[14,2,8,0],[14,8,8,6,"typesafe_actions_1"],[14,26,8,24],[14,29,8,27,"require"],[14,36,8,34],[14,37,8,34,"_dependencyMap"],[14,51,8,34],[14,74,8,53],[14,75,8,54],[15,2,9,0],[15,8,9,6,"lodash_isequal_1"],[15,24,9,22],[15,27,9,25,"__importDefault"],[15,42,9,40],[15,43,9,41,"require"],[15,50,9,48],[15,51,9,48,"_dependencyMap"],[15,65,9,48],[15,86,9,65],[15,87,9,66],[15,88,9,67],[16,2,10,0],[16,8,10,6,"types_1"],[16,15,10,13],[16,18,10,16,"require"],[16,25,10,23],[16,26,10,23,"_dependencyMap"],[16,40,10,23],[16,55,10,34],[16,56,10,35],[17,2,11,0],[18,2,12,0],[18,8,12,6,"createInitialViewState"],[18,30,12,28],[18,33,12,31,"createInitialViewState"],[18,34,12,31],[18,40,12,38],[19,4,13,4,"dragStatus"],[19,14,13,14],[19,16,13,16,"types_1"],[19,23,13,23],[19,24,13,24,"DraxViewDragStatus"],[19,42,13,42],[19,43,13,43,"Inactive"],[19,51,13,51],[20,4,14,4,"dragAbsolutePosition"],[20,24,14,24],[20,26,14,26,"undefined"],[20,35,14,35],[21,4,15,4,"dragOffset"],[21,14,15,14],[21,16,15,16,"undefined"],[21,25,15,25],[22,4,16,4,"grabOffset"],[22,14,16,14],[22,16,16,16,"undefined"],[22,25,16,25],[23,4,17,4,"grabOffsetRatio"],[23,19,17,19],[23,21,17,21,"undefined"],[23,30,17,30],[24,4,18,4,"draggingOverReceiver"],[24,24,18,24],[24,26,18,26,"undefined"],[24,35,18,35],[25,4,19,4,"receiveStatus"],[25,17,19,17],[25,19,19,19,"types_1"],[25,26,19,26],[25,27,19,27,"DraxViewReceiveStatus"],[25,48,19,48],[25,49,19,49,"Inactive"],[25,57,19,57],[26,4,20,4,"receiveOffset"],[26,17,20,17],[26,19,20,19,"undefined"],[26,28,20,28],[27,4,21,4,"receiveOffsetRatio"],[27,22,21,22],[27,24,21,24,"undefined"],[27,33,21,33],[28,4,22,4,"receivingDrag"],[28,17,22,17],[28,19,22,19,"undefined"],[29,2,23,0],[29,3,23,1],[29,4,23,2],[30,2,24,0],[31,2,25,0],[31,8,25,6,"createInitialState"],[31,26,25,24],[31,29,25,27,"createInitialState"],[31,30,25,27],[31,36,25,34],[32,4,26,4,"viewStateById"],[32,17,26,17],[32,19,26,19],[32,20,26,20],[32,21,26,21],[33,4,27,4,"trackingStatus"],[33,18,27,18],[33,20,27,20],[34,6,28,8,"dragging"],[34,14,28,16],[34,16,28,18],[34,21,28,23],[35,6,29,8,"receiving"],[35,15,29,17],[35,17,29,19],[36,4,30,4],[37,2,31,0],[37,3,31,1],[37,4,31,2],[38,2,32,0],[39,2,33,0],[39,8,33,6,"selectViewState"],[39,23,33,21],[39,26,33,24,"selectViewState"],[39,27,33,25,"state"],[39,32,33,30],[39,34,33,32,"id"],[39,36,33,34],[39,41,33,40,"id"],[39,43,33,42],[39,48,33,47,"undefined"],[39,57,33,56],[39,60,33,59,"undefined"],[39,69,33,68],[39,72,33,71,"state"],[39,77,33,76],[39,78,33,77,"viewStateById"],[39,91,33,90],[39,92,33,91,"id"],[39,94,33,93],[39,95,33,95],[40,2,34,0],[41,2,35,0],[41,8,35,6,"selectTrackingStatus"],[41,28,35,26],[41,31,35,30,"state"],[41,36,35,35],[41,40,35,40,"state"],[41,45,35,45],[41,46,35,46,"trackingStatus"],[41,60,35,60],[42,2,36,0],[43,2,37,0,"exports"],[43,9,37,7],[43,10,37,8,"actions"],[43,17,37,15],[43,20,37,18],[44,4,38,4,"createViewState"],[44,19,38,19],[44,21,38,21],[44,22,38,22],[44,23,38,23],[44,25,38,25,"typesafe_actions_1"],[44,43,38,43],[44,44,38,44,"createAction"],[44,56,38,56],[44,58,38,58],[44,75,38,75],[44,76,38,76],[44,77,38,77],[44,78,38,78],[45,4,39,4,"updateViewState"],[45,19,39,19],[45,21,39,21],[45,22,39,22],[45,23,39,23],[45,25,39,25,"typesafe_actions_1"],[45,43,39,43],[45,44,39,44,"createAction"],[45,56,39,56],[45,58,39,58],[45,75,39,75],[45,76,39,76],[45,77,39,77],[45,78,39,78],[46,4,40,4,"deleteViewState"],[46,19,40,19],[46,21,40,21],[46,22,40,22],[46,23,40,23],[46,25,40,25,"typesafe_actions_1"],[46,43,40,43],[46,44,40,44,"createAction"],[46,56,40,56],[46,58,40,58],[46,75,40,75],[46,76,40,76],[46,77,40,77],[46,78,40,78],[47,4,41,4,"updateTrackingStatus"],[47,24,41,24],[47,26,41,26],[47,27,41,27],[47,28,41,28],[47,30,41,30,"typesafe_actions_1"],[47,48,41,48],[47,49,41,49,"createAction"],[47,61,41,61],[47,63,41,63],[47,85,41,85],[47,86,41,86],[47,87,41,87],[48,2,42,0],[48,3,42,1],[49,2,43,0],[50,2,44,0],[50,8,44,6,"reducer"],[50,15,44,13],[50,18,44,16,"reducer"],[50,19,44,17,"state"],[50,24,44,22],[50,26,44,24,"action"],[50,32,44,30],[50,37,44,35],[51,4,45,4],[51,12,45,12,"action"],[51,18,45,18],[51,19,45,19,"type"],[51,23,45,23],[52,6,46,8],[52,11,46,13],[52,12,46,14],[52,13,46,15],[52,15,46,17,"typesafe_actions_1"],[52,33,46,35],[52,34,46,36,"getType"],[52,41,46,43],[52,43,46,45,"exports"],[52,50,46,52],[52,51,46,53,"actions"],[52,58,46,60],[52,59,46,61,"createViewState"],[52,74,46,76],[52,75,46,77],[53,8,46,79],[54,10,47,12],[54,16,47,18],[55,12,47,20,"id"],[56,10,47,23],[56,11,47,24],[56,14,47,27,"action"],[56,20,47,33],[56,21,47,34,"payload"],[56,28,47,41],[57,10,48,12],[57,16,48,18,"viewState"],[57,25,48,27],[57,28,48,30,"selectViewState"],[57,43,48,45],[57,44,48,46,"state"],[57,49,48,51],[57,51,48,53,"id"],[57,53,48,55],[57,54,48,56],[58,10,49,12],[58,14,49,16,"viewState"],[58,23,49,25],[58,25,49,27],[59,12,50,16],[59,19,50,23,"state"],[59,24,50,28],[60,10,51,12],[61,10,52,12],[61,17,52,19],[62,12,53,16],[62,15,53,19,"state"],[62,20,53,24],[63,12,54,16,"viewStateById"],[63,25,54,29],[63,27,54,31],[64,14,55,20],[64,17,55,23,"state"],[64,22,55,28],[64,23,55,29,"viewStateById"],[64,36,55,42],[65,14,56,20],[65,15,56,21,"id"],[65,17,56,23],[65,20,56,26,"createInitialViewState"],[65,42,56,48],[65,43,56,49],[66,12,57,16],[67,10,58,12],[67,11,58,13],[68,8,59,8],[69,6,60,8],[69,11,60,13],[69,12,60,14],[69,13,60,15],[69,15,60,17,"typesafe_actions_1"],[69,33,60,35],[69,34,60,36,"getType"],[69,41,60,43],[69,43,60,45,"exports"],[69,50,60,52],[69,51,60,53,"actions"],[69,58,60,60],[69,59,60,61,"updateViewState"],[69,74,60,76],[69,75,60,77],[70,8,60,79],[71,10,61,12],[71,16,61,18],[72,12,61,20,"id"],[72,14,61,22],[73,12,61,24,"viewStateUpdate"],[74,10,61,40],[74,11,61,41],[74,14,61,44,"action"],[74,20,61,50],[74,21,61,51,"payload"],[74,28,61,58],[75,10,62,12],[75,16,62,18,"viewState"],[75,25,62,27],[75,28,62,30,"selectViewState"],[75,43,62,45],[75,44,62,46,"state"],[75,49,62,51],[75,51,62,53,"id"],[75,53,62,55],[75,54,62,56],[76,10,63,12],[76,14,63,16,"viewState"],[76,23,63,25],[76,25,63,27],[77,12,64,16],[77,18,64,22,"newViewState"],[77,30,64,34],[77,33,64,37],[78,14,65,20],[78,17,65,23,"viewState"],[78,26,65,32],[79,14,66,20],[79,17,66,23,"viewStateUpdate"],[80,12,67,16],[80,13,67,17],[81,12,68,16],[81,16,68,20],[81,17,68,21],[81,18,68,22],[81,20,68,24,"lodash_isequal_1"],[81,36,68,40],[81,37,68,41,"default"],[81,44,68,48],[81,46,68,50,"viewState"],[81,55,68,59],[81,57,68,61,"newViewState"],[81,69,68,73],[81,70,68,74],[81,72,68,76],[82,14,69,20],[82,21,69,27,"state"],[82,26,69,32],[83,12,70,16],[84,12,71,16],[84,19,71,23],[85,14,72,20],[85,17,72,23,"state"],[85,22,72,28],[86,14,73,20,"viewStateById"],[86,27,73,33],[86,29,73,35],[87,16,74,24],[87,19,74,27,"state"],[87,24,74,32],[87,25,74,33,"viewStateById"],[87,38,74,46],[88,16,75,24],[88,17,75,25,"id"],[88,19,75,27],[88,22,75,30,"newViewState"],[89,14,76,20],[90,12,77,16],[90,13,77,17],[91,10,78,12],[92,10,79,12],[92,17,79,19,"state"],[92,22,79,24],[93,8,80,8],[94,6,81,8],[94,11,81,13],[94,12,81,14],[94,13,81,15],[94,15,81,17,"typesafe_actions_1"],[94,33,81,35],[94,34,81,36,"getType"],[94,41,81,43],[94,43,81,45,"exports"],[94,50,81,52],[94,51,81,53,"actions"],[94,58,81,60],[94,59,81,61,"deleteViewState"],[94,74,81,76],[94,75,81,77],[95,8,81,79],[96,10,82,12],[96,16,82,18],[97,12,82,20,"id"],[98,10,82,23],[98,11,82,24],[98,14,82,27,"action"],[98,20,82,33],[98,21,82,34,"payload"],[98,28,82,41],[99,10,83,12],[99,16,83,18],[100,12,83,20],[100,13,83,21,"id"],[100,15,83,23],[100,18,83,26,"removed"],[100,25,83,33],[101,12,83,35],[101,15,83,38,"viewStateById"],[102,10,83,52],[102,11,83,53],[102,14,83,56,"state"],[102,19,83,61],[102,20,83,62,"viewStateById"],[102,33,83,75],[103,10,84,12],[103,14,84,16,"removed"],[103,21,84,23],[103,23,84,25],[104,12,85,16],[104,19,85,23],[105,14,86,20],[105,17,86,23,"state"],[105,22,86,28],[106,14,87,20,"viewStateById"],[107,12,88,16],[107,13,88,17],[108,10,89,12],[109,10,90,12],[109,17,90,19,"state"],[109,22,90,24],[110,8,91,8],[111,6,92,8],[111,11,92,13],[111,12,92,14],[111,13,92,15],[111,15,92,17,"typesafe_actions_1"],[111,33,92,35],[111,34,92,36,"getType"],[111,41,92,43],[111,43,92,45,"exports"],[111,50,92,52],[111,51,92,53,"actions"],[111,58,92,60],[111,59,92,61,"updateTrackingStatus"],[111,79,92,81],[111,80,92,82],[112,8,92,84],[113,10,93,12],[113,17,93,19],[114,12,94,16],[114,15,94,19,"state"],[114,20,94,24],[115,12,95,16,"trackingStatus"],[115,26,95,30],[115,28,95,32],[116,14,96,20],[116,17,96,23,"state"],[116,22,96,28],[116,23,96,29,"trackingStatus"],[116,37,96,43],[117,14,97,20],[117,17,97,23,"action"],[117,23,97,29],[117,24,97,30,"payload"],[118,12,98,16],[119,10,99,12],[119,11,99,13],[120,8,100,8],[121,6,101,8],[122,8,102,12],[122,15,102,19,"state"],[122,20,102,24],[123,4,103,4],[124,2,104,0],[124,3,104,1],[125,2,105,0],[126,2,106,0],[126,8,106,6,"useDraxState"],[126,20,106,18],[126,23,106,21,"useDraxState"],[126,24,106,21],[126,29,106,27],[127,4,107,4],[128,4,108,4],[128,10,108,10],[128,11,108,11,"state"],[128,16,108,16],[128,18,108,18,"dispatch"],[128,26,108,26],[128,27,108,27],[128,30,108,30],[128,31,108,31],[128,32,108,32],[128,34,108,34,"react_1"],[128,41,108,41],[128,42,108,42,"useReducer"],[128,52,108,52],[128,54,108,54,"reducer"],[128,61,108,61],[128,63,108,63,"undefined"],[128,72,108,72],[128,74,108,74,"createInitialState"],[128,92,108,92],[128,93,108,93],[129,4,109,4],[130,4,110,4],[130,10,110,10,"getViewState"],[130,22,110,22],[130,25,110,25],[130,26,110,26],[130,27,110,27],[130,29,110,29,"react_1"],[130,36,110,36],[130,37,110,37,"useCallback"],[130,48,110,48],[130,50,110,51,"id"],[130,52,110,53],[130,56,110,58,"selectViewState"],[130,71,110,73],[130,72,110,74,"state"],[130,77,110,79],[130,79,110,81,"id"],[130,81,110,83],[130,82,110,84],[130,84,110,86],[130,85,110,87,"state"],[130,90,110,92],[130,91,110,93],[130,92,110,94],[131,4,111,4],[132,4,112,4],[132,10,112,10,"getTrackingStatus"],[132,27,112,27],[132,30,112,30],[132,31,112,31],[132,32,112,32],[132,34,112,34,"react_1"],[132,41,112,41],[132,42,112,42,"useCallback"],[132,53,112,53],[132,55,112,55],[132,61,112,61,"selectTrackingStatus"],[132,81,112,81],[132,82,112,82,"state"],[132,87,112,87],[132,88,112,88],[132,90,112,90],[132,91,112,91,"state"],[132,96,112,96],[132,97,112,97],[132,98,112,98],[133,4,113,4],[134,4,114,4],[134,10,114,10,"draxState"],[134,19,114,19],[134,22,114,22],[134,23,114,23],[134,24,114,24],[134,26,114,26,"react_1"],[134,33,114,33],[134,34,114,34,"useMemo"],[134,41,114,41],[134,43,114,43],[134,50,114,50],[135,6,115,8,"getViewState"],[135,18,115,20],[136,6,116,8,"getTrackingStatus"],[136,23,116,25],[137,6,117,8,"dispatch"],[138,4,118,4],[138,5,118,5],[138,6,118,6],[138,8,118,8],[138,9,119,8,"getViewState"],[138,21,119,20],[138,23,120,8,"getTrackingStatus"],[138,40,120,25],[138,41,121,5],[138,42,121,6],[139,4,122,4],[140,0,123,0],[141,0,124,0],[142,0,125,0],[143,0,126,0],[144,4,127,4],[144,11,127,11,"draxState"],[144,20,127,20],[145,2,128,0],[145,3,128,1],[146,2,129,0,"exports"],[146,9,129,7],[146,10,129,8,"useDraxState"],[146,22,129,20],[146,25,129,23,"useDraxState"],[146,37,129,35],[147,0,129,36],[147,3]],"functionMap":{"names":["<global>","<anonymous>","createInitialViewState","createInitialState","selectViewState","selectTrackingStatus","reducer","useDraxState"],"mappings":"AAA;wDCC;CDE;+BEQ;EFW;2BGE;EHM;wBIE,uEJ;6BKE,+BL;gBMS;CN4D;qBOE;kDNI,kCM;uDNE,iCM;2CNE;MMI;CPU"},"hasCjsExports":true},"type":"js/module"}]}