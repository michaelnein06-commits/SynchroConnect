{"dependencies":[{"name":"expo/virtual/env","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dgHc21cgR+buKc7O3/dChhD5JJk=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":78,"index":78}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":79},"end":{"line":2,"column":69,"index":148}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":149},"end":{"line":3,"column":26,"index":175}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/context/AuthContext.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"AuthProvider\", {\n    enumerable: true,\n    get: function () {\n      return AuthProvider;\n    }\n  });\n  Object.defineProperty(exports, \"useAuth\", {\n    enumerable: true,\n    get: function () {\n      return useAuth;\n    }\n  });\n  var _expoVirtualEnv = require(_dependencyMap[0], \"expo/virtual/env\");\n  var _react = require(_dependencyMap[1], \"react\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[2], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _axios = require(_dependencyMap[3], \"axios\");\n  var axios = _interopDefault(_axios);\n  var _reactJsxDevRuntime = require(_dependencyMap[4], \"react/jsx-dev-runtime\");\n  const EXPO_PUBLIC_BACKEND_URL = _expoVirtualEnv.env.EXPO_PUBLIC_BACKEND_URL;\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  const AuthProvider = ({\n    children\n  }) => {\n    _s();\n    const [user, setUser] = (0, _react.useState)(null);\n    const [token, setToken] = (0, _react.useState)(null);\n    const [loading, setLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      loadStoredAuth();\n    }, []);\n    const loadStoredAuth = async () => {\n      try {\n        const storedToken = await AsyncStorage.default.getItem('auth_token');\n        const storedUser = await AsyncStorage.default.getItem('user');\n        if (storedToken && storedUser) {\n          setToken(storedToken);\n          setUser(JSON.parse(storedUser));\n\n          // Set default auth header\n          axios.default.defaults.headers.common['Authorization'] = `Bearer ${storedToken}`;\n        }\n      } catch (error) {\n        console.error('Error loading stored auth:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    const logout = async () => {\n      try {\n        // Clear state\n        setToken(null);\n        setUser(null);\n\n        // Clear AsyncStorage\n        await AsyncStorage.default.removeItem('auth_token');\n        await AsyncStorage.default.removeItem('user');\n\n        // Remove auth header\n        delete axios.default.defaults.headers.common['Authorization'];\n      } catch (error) {\n        console.error('Logout error:', error);\n      }\n    };\n    const loginWithGoogle = async (accessToken, userData) => {\n      try {\n        // Store in state\n        setToken(accessToken);\n        setUser(userData);\n\n        // Store in AsyncStorage\n        await AsyncStorage.default.setItem('auth_token', accessToken);\n        await AsyncStorage.default.setItem('user', JSON.stringify(userData));\n\n        // Set default auth header\n        axios.default.defaults.headers.common['Authorization'] = `Bearer ${accessToken}`;\n      } catch (error) {\n        console.error('Google login error:', error);\n        throw error;\n      }\n    };\n    const updateUser = async userData => {\n      try {\n        if (user) {\n          const updatedUser = Object.assign({}, user, userData);\n          setUser(updatedUser);\n          await AsyncStorage.default.setItem('user', JSON.stringify(updatedUser));\n        }\n      } catch (error) {\n        console.error('Error updating user:', error);\n      }\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        user,\n        token,\n        loginWithGoogle,\n        logout,\n        loading,\n        updateUser\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 5\n    }, this);\n  };\n  _s(AuthProvider, \"uAkFQMmIUxfxJcQTEb8tCM/KFt4=\");\n  _c = AuthProvider;\n  const useAuth = () => {\n    _s2();\n    const context = (0, _react.useContext)(AuthContext);\n    if (context === undefined) {\n      throw new Error('useAuth must be used within an AuthProvider');\n    }\n    return context;\n  };\n  _s2(useAuth, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\n  var _c;\n  $RefreshReg$(_c, \"AuthProvider\");\n});","lineCount":136,"map":[[15,2,27,0,"Object"],[15,8,27,0],[15,9,27,0,"defineProperty"],[15,23,27,0],[15,24,27,0,"exports"],[15,31,27,0],[16,4,27,0,"enumerable"],[16,14,27,0],[17,4,27,0,"get"],[17,7,27,0],[17,18,27,0,"get"],[17,19,27,0],[18,6,27,0],[18,13,27,0,"AuthProvider"],[18,25,27,0],[19,4,27,0],[20,2,27,0],[21,2,109,0,"Object"],[21,8,109,0],[21,9,109,0,"defineProperty"],[21,23,109,0],[21,24,109,0,"exports"],[21,31,109,0],[22,4,109,0,"enumerable"],[22,14,109,0],[23,4,109,0,"get"],[23,7,109,0],[23,18,109,0,"get"],[23,19,109,0],[24,6,109,0],[24,13,109,0,"useAuth"],[24,20,109,0],[25,4,109,0],[26,2,109,0],[27,2,115,2],[27,6,115,2,"_expoVirtualEnv"],[27,21,115,2],[27,24,115,2,"require"],[27,31,115,2],[27,32,115,2,"_dependencyMap"],[27,46,115,2],[28,2,1,0],[28,6,1,0,"_react"],[28,12,1,0],[28,15,1,0,"require"],[28,22,1,0],[28,23,1,0,"_dependencyMap"],[28,37,1,0],[29,2,2,0],[29,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[29,42,2,0],[29,45,2,0,"require"],[29,52,2,0],[29,53,2,0,"_dependencyMap"],[29,67,2,0],[30,2,2,0],[30,6,2,0,"AsyncStorage"],[30,18,2,0],[30,21,2,0,"_interopDefault"],[30,36,2,0],[30,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[30,73,2,0],[31,2,3,0],[31,6,3,0,"_axios"],[31,12,3,0],[31,15,3,0,"require"],[31,22,3,0],[31,23,3,0,"_dependencyMap"],[31,37,3,0],[32,2,3,0],[32,6,3,0,"axios"],[32,11,3,0],[32,14,3,0,"_interopDefault"],[32,29,3,0],[32,30,3,0,"_axios"],[32,36,3,0],[33,2,3,26],[33,6,3,26,"_reactJsxDevRuntime"],[33,25,3,26],[33,28,3,26,"require"],[33,35,3,26],[33,36,3,26,"_dependencyMap"],[33,50,3,26],[34,2,5,0],[34,8,5,6,"EXPO_PUBLIC_BACKEND_URL"],[34,31,5,29],[34,34,5,29,"_expoVirtualEnv"],[34,49,5,29],[34,50,5,29,"env"],[34,53,5,29],[34,54,5,29,"EXPO_PUBLIC_BACKEND_URL"],[34,77,5,67],[35,2,25,0],[35,8,25,6,"AuthContext"],[35,19,25,17],[35,35,25,20],[35,39,25,20,"createContext"],[35,45,25,33],[35,46,25,33,"createContext"],[35,59,25,33],[35,61,25,63,"undefined"],[35,70,25,72],[35,71,25,73],[36,2,27,7],[36,8,27,13,"AuthProvider"],[36,20,27,66],[36,23,27,69,"AuthProvider"],[36,24,27,70],[37,4,27,72,"children"],[38,2,27,81],[38,3,27,82],[38,8,27,87],[39,4,27,87,"_s"],[39,6,27,87],[40,4,28,2],[40,10,28,8],[40,11,28,9,"user"],[40,15,28,13],[40,17,28,15,"setUser"],[40,24,28,22],[40,25,28,23],[40,28,28,26],[40,32,28,26,"useState"],[40,38,28,34],[40,39,28,34,"useState"],[40,47,28,34],[40,49,28,48],[40,53,28,52],[40,54,28,53],[41,4,29,2],[41,10,29,8],[41,11,29,9,"token"],[41,16,29,14],[41,18,29,16,"setToken"],[41,26,29,24],[41,27,29,25],[41,30,29,28],[41,34,29,28,"useState"],[41,40,29,36],[41,41,29,36,"useState"],[41,49,29,36],[41,51,29,52],[41,55,29,56],[41,56,29,57],[42,4,30,2],[42,10,30,8],[42,11,30,9,"loading"],[42,18,30,16],[42,20,30,18,"setLoading"],[42,30,30,28],[42,31,30,29],[42,34,30,32],[42,38,30,32,"useState"],[42,44,30,40],[42,45,30,40,"useState"],[42,53,30,40],[42,55,30,41],[42,59,30,45],[42,60,30,46],[43,4,32,2],[43,8,32,2,"useEffect"],[43,14,32,11],[43,15,32,11,"useEffect"],[43,24,32,11],[43,26,32,12],[43,32,32,18],[44,6,33,4,"loadStoredAuth"],[44,20,33,18],[44,21,33,19],[44,22,33,20],[45,4,34,2],[45,5,34,3],[45,7,34,5],[45,9,34,7],[45,10,34,8],[46,4,36,2],[46,10,36,8,"loadStoredAuth"],[46,24,36,22],[46,27,36,25],[46,33,36,25,"loadStoredAuth"],[46,34,36,25],[46,39,36,37],[47,6,37,4],[47,10,37,8],[48,8,38,6],[48,14,38,12,"storedToken"],[48,25,38,23],[48,28,38,26],[48,34,38,32,"AsyncStorage"],[48,46,38,44],[48,47,38,44,"default"],[48,54,38,44],[48,55,38,45,"getItem"],[48,62,38,52],[48,63,38,53],[48,75,38,65],[48,76,38,66],[49,8,39,6],[49,14,39,12,"storedUser"],[49,24,39,22],[49,27,39,25],[49,33,39,31,"AsyncStorage"],[49,45,39,43],[49,46,39,43,"default"],[49,53,39,43],[49,54,39,44,"getItem"],[49,61,39,51],[49,62,39,52],[49,68,39,58],[49,69,39,59],[50,8,41,6],[50,12,41,10,"storedToken"],[50,23,41,21],[50,27,41,25,"storedUser"],[50,37,41,35],[50,39,41,37],[51,10,42,8,"setToken"],[51,18,42,16],[51,19,42,17,"storedToken"],[51,30,42,28],[51,31,42,29],[52,10,43,8,"setUser"],[52,17,43,15],[52,18,43,16,"JSON"],[52,22,43,20],[52,23,43,21,"parse"],[52,28,43,26],[52,29,43,27,"storedUser"],[52,39,43,37],[52,40,43,38],[52,41,43,39],[54,10,45,8],[55,10,46,8,"axios"],[55,15,46,13],[55,16,46,13,"default"],[55,23,46,13],[55,24,46,14,"defaults"],[55,32,46,22],[55,33,46,23,"headers"],[55,40,46,30],[55,41,46,31,"common"],[55,47,46,37],[55,48,46,38],[55,63,46,53],[55,64,46,54],[55,67,46,57],[55,77,46,67,"storedToken"],[55,88,46,78],[55,90,46,80],[56,8,47,6],[57,6,48,4],[57,7,48,5],[57,8,48,6],[57,15,48,13,"error"],[57,20,48,18],[57,22,48,20],[58,8,49,6,"console"],[58,15,49,13],[58,16,49,14,"error"],[58,21,49,19],[58,22,49,20],[58,50,49,48],[58,52,49,50,"error"],[58,57,49,55],[58,58,49,56],[59,6,50,4],[59,7,50,5],[59,16,50,14],[60,8,51,6,"setLoading"],[60,18,51,16],[60,19,51,17],[60,24,51,22],[60,25,51,23],[61,6,52,4],[62,4,53,2],[62,5,53,3],[63,4,55,2],[63,10,55,8,"logout"],[63,16,55,14],[63,19,55,17],[63,25,55,17,"logout"],[63,26,55,17],[63,31,55,29],[64,6,56,4],[64,10,56,8],[65,8,57,6],[66,8,58,6,"setToken"],[66,16,58,14],[66,17,58,15],[66,21,58,19],[66,22,58,20],[67,8,59,6,"setUser"],[67,15,59,13],[67,16,59,14],[67,20,59,18],[67,21,59,19],[69,8,61,6],[70,8,62,6],[70,14,62,12,"AsyncStorage"],[70,26,62,24],[70,27,62,24,"default"],[70,34,62,24],[70,35,62,25,"removeItem"],[70,45,62,35],[70,46,62,36],[70,58,62,48],[70,59,62,49],[71,8,63,6],[71,14,63,12,"AsyncStorage"],[71,26,63,24],[71,27,63,24,"default"],[71,34,63,24],[71,35,63,25,"removeItem"],[71,45,63,35],[71,46,63,36],[71,52,63,42],[71,53,63,43],[73,8,65,6],[74,8,66,6],[74,15,66,13,"axios"],[74,20,66,18],[74,21,66,18,"default"],[74,28,66,18],[74,29,66,19,"defaults"],[74,37,66,27],[74,38,66,28,"headers"],[74,45,66,35],[74,46,66,36,"common"],[74,52,66,42],[74,53,66,43],[74,68,66,58],[74,69,66,59],[75,6,67,4],[75,7,67,5],[75,8,67,6],[75,15,67,13,"error"],[75,20,67,18],[75,22,67,20],[76,8,68,6,"console"],[76,15,68,13],[76,16,68,14,"error"],[76,21,68,19],[76,22,68,20],[76,37,68,35],[76,39,68,37,"error"],[76,44,68,42],[76,45,68,43],[77,6,69,4],[78,4,70,2],[78,5,70,3],[79,4,72,2],[79,10,72,8,"loginWithGoogle"],[79,25,72,23],[79,28,72,26],[79,34,72,26,"loginWithGoogle"],[79,35,72,33,"accessToken"],[79,46,72,52],[79,48,72,54,"userData"],[79,56,72,68],[79,61,72,73],[80,6,73,4],[80,10,73,8],[81,8,74,6],[82,8,75,6,"setToken"],[82,16,75,14],[82,17,75,15,"accessToken"],[82,28,75,26],[82,29,75,27],[83,8,76,6,"setUser"],[83,15,76,13],[83,16,76,14,"userData"],[83,24,76,22],[83,25,76,23],[85,8,78,6],[86,8,79,6],[86,14,79,12,"AsyncStorage"],[86,26,79,24],[86,27,79,24,"default"],[86,34,79,24],[86,35,79,25,"setItem"],[86,42,79,32],[86,43,79,33],[86,55,79,45],[86,57,79,47,"accessToken"],[86,68,79,58],[86,69,79,59],[87,8,80,6],[87,14,80,12,"AsyncStorage"],[87,26,80,24],[87,27,80,24,"default"],[87,34,80,24],[87,35,80,25,"setItem"],[87,42,80,32],[87,43,80,33],[87,49,80,39],[87,51,80,41,"JSON"],[87,55,80,45],[87,56,80,46,"stringify"],[87,65,80,55],[87,66,80,56,"userData"],[87,74,80,64],[87,75,80,65],[87,76,80,66],[89,8,82,6],[90,8,83,6,"axios"],[90,13,83,11],[90,14,83,11,"default"],[90,21,83,11],[90,22,83,12,"defaults"],[90,30,83,20],[90,31,83,21,"headers"],[90,38,83,28],[90,39,83,29,"common"],[90,45,83,35],[90,46,83,36],[90,61,83,51],[90,62,83,52],[90,65,83,55],[90,75,83,65,"accessToken"],[90,86,83,76],[90,88,83,78],[91,6,84,4],[91,7,84,5],[91,8,84,6],[91,15,84,13,"error"],[91,20,84,18],[91,22,84,20],[92,8,85,6,"console"],[92,15,85,13],[92,16,85,14,"error"],[92,21,85,19],[92,22,85,20],[92,43,85,41],[92,45,85,43,"error"],[92,50,85,48],[92,51,85,49],[93,8,86,6],[93,14,86,12,"error"],[93,19,86,17],[94,6,87,4],[95,4,88,2],[95,5,88,3],[96,4,90,2],[96,10,90,8,"updateUser"],[96,20,90,18],[96,23,90,21],[96,29,90,28,"userData"],[96,37,90,51],[96,41,90,56],[97,6,91,4],[97,10,91,8],[98,8,92,6],[98,12,92,10,"user"],[98,16,92,14],[98,18,92,16],[99,10,93,8],[99,16,93,14,"updatedUser"],[99,27,93,25],[99,30,93,25,"Object"],[99,36,93,25],[99,37,93,25,"assign"],[99,43,93,25],[99,48,93,33,"user"],[99,52,93,37],[99,54,93,42,"userData"],[99,62,93,50],[99,63,93,52],[100,10,94,8,"setUser"],[100,17,94,15],[100,18,94,16,"updatedUser"],[100,29,94,27],[100,30,94,28],[101,10,95,8],[101,16,95,14,"AsyncStorage"],[101,28,95,26],[101,29,95,26,"default"],[101,36,95,26],[101,37,95,27,"setItem"],[101,44,95,34],[101,45,95,35],[101,51,95,41],[101,53,95,43,"JSON"],[101,57,95,47],[101,58,95,48,"stringify"],[101,67,95,57],[101,68,95,58,"updatedUser"],[101,79,95,69],[101,80,95,70],[101,81,95,71],[102,8,96,6],[103,6,97,4],[103,7,97,5],[103,8,97,6],[103,15,97,13,"error"],[103,20,97,18],[103,22,97,20],[104,8,98,6,"console"],[104,15,98,13],[104,16,98,14,"error"],[104,21,98,19],[104,22,98,20],[104,44,98,42],[104,46,98,44,"error"],[104,51,98,49],[104,52,98,50],[105,6,99,4],[106,4,100,2],[106,5,100,3],[107,4,102,2],[107,24,103,4],[107,28,103,4,"_reactJsxDevRuntime"],[107,47,103,4],[107,48,103,4,"jsxDEV"],[107,54,103,4],[107,56,103,5,"AuthContext"],[107,67,103,16],[107,68,103,17,"Provider"],[107,76,103,25],[108,6,103,26,"value"],[108,11,103,31],[108,13,103,33],[109,8,103,35,"user"],[109,12,103,39],[110,8,103,41,"token"],[110,13,103,46],[111,8,103,48,"loginWithGoogle"],[111,23,103,63],[112,8,103,65,"logout"],[112,14,103,71],[113,8,103,73,"loading"],[113,15,103,80],[114,8,103,82,"updateUser"],[115,6,103,93],[115,7,103,95],[116,6,103,95,"children"],[116,14,103,95],[116,16,104,7,"children"],[117,4,104,15],[118,6,104,15,"fileName"],[118,14,104,15],[118,16,104,15,"_jsxFileName"],[118,28,104,15],[119,6,104,15,"lineNumber"],[119,16,104,15],[120,6,104,15,"columnNumber"],[120,18,104,15],[121,4,104,15],[121,11,105,26],[121,12,105,27],[122,2,107,0],[122,3,107,1],[123,2,107,2,"_s"],[123,4,107,2],[123,5,27,13,"AuthProvider"],[123,17,27,66],[124,2,27,66,"_c"],[124,4,27,66],[124,7,27,13,"AuthProvider"],[124,19,27,66],[125,2,109,7],[125,8,109,13,"useAuth"],[125,15,109,20],[125,18,109,23,"useAuth"],[125,19,109,23],[125,24,109,29],[126,4,109,29,"_s2"],[126,7,109,29],[127,4,110,2],[127,10,110,8,"context"],[127,17,110,15],[127,20,110,18],[127,24,110,18,"useContext"],[127,30,110,28],[127,31,110,28,"useContext"],[127,41,110,28],[127,43,110,29,"AuthContext"],[127,54,110,40],[127,55,110,41],[128,4,111,2],[128,8,111,6,"context"],[128,15,111,13],[128,20,111,18,"undefined"],[128,29,111,27],[128,31,111,29],[129,6,112,4],[129,12,112,10],[129,16,112,14,"Error"],[129,21,112,19],[129,22,112,20],[129,67,112,65],[129,68,112,66],[130,4,113,2],[131,4,114,2],[131,11,114,9,"context"],[131,18,114,16],[132,2,115,0],[132,3,115,1],[133,2,115,2,"_s2"],[133,5,115,2],[133,6,109,13,"useAuth"],[133,13,109,20],[134,2,109,20],[134,6,109,20,"_c"],[134,8,109,20],[135,2,109,20,"$RefreshReg$"],[135,14,109,20],[135,15,109,20,"_c"],[135,17,109,20],[136,0,109,20],[136,3]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","loadStoredAuth","logout","loginWithGoogle","updateUser","useAuth"],"mappings":"AAA;qEC0B;YCK;GDE;yBEE;GFiB;iBGE;GHe;0BIE;GJgB;qBKE;GLU;CDO;uBOE;CPM"},"hasCjsExports":false},"type":"js/module"}]}