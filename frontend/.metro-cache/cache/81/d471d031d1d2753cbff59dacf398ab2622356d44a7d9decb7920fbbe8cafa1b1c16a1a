{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"expo-contacts","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":42,"index":42}}],"key":"xdLl7lq8PHtMOf54bAXZ6l+sdqI=","exportNames":["*"],"imports":1}},{"name":"react-native","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":43},"end":{"line":2,"column":40,"index":83}}],"key":"KyzuX10g6ixS9UfynhmjlvCIG3g=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  exports.requestContactsPermission = requestContactsPermission;\n  exports.importPhoneContacts = importPhoneContacts;\n  exports.formatContactForCRM = formatContactForCRM;\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0], \"@babel/runtime/helpers/asyncToGenerator\");\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _expoContacts = require(_dependencyMap[1], \"expo-contacts\");\n  var Contacts = _interopNamespace(_expoContacts);\n  var _reactNative = require(_dependencyMap[2], \"react-native\");\n  function requestContactsPermission() {\n    return _requestContactsPermission.apply(this, arguments);\n  }\n  function _requestContactsPermission() {\n    _requestContactsPermission = (0, _asyncToGenerator.default)(function* () {\n      try {\n        var _yield$Contacts$getPe = yield Contacts.getPermissionsAsync(),\n          existingStatus = _yield$Contacts$getPe.status;\n        var finalStatus = existingStatus;\n        if (existingStatus !== 'granted') {\n          var _yield$Contacts$reque = yield Contacts.requestPermissionsAsync(),\n            status = _yield$Contacts$reque.status;\n          finalStatus = status;\n        }\n        return finalStatus === 'granted';\n      } catch (error) {\n        console.error('Error requesting contacts permission:', error);\n        return false;\n      }\n    });\n    return _requestContactsPermission.apply(this, arguments);\n  }\n  function importPhoneContacts() {\n    return _importPhoneContacts.apply(this, arguments);\n  }\n  function _importPhoneContacts() {\n    _importPhoneContacts = (0, _asyncToGenerator.default)(function* () {\n      try {\n        var hasPermission = yield requestContactsPermission();\n        if (!hasPermission) {\n          throw new Error('Contacts permission not granted');\n        }\n\n        // Check platform - contacts not available on web\n        if (_reactNative.Platform.OS === 'web') {\n          console.log('Contacts not available on web');\n          return [];\n        }\n        var result = yield Contacts.getContactsAsync({\n          fields: [Contacts.Fields.Name, Contacts.Fields.PhoneNumbers, Contacts.Fields.Emails, Contacts.Fields.Company, Contacts.Fields.JobTitle, Contacts.Fields.Birthday, Contacts.Fields.Image, Contacts.Fields.ID]\n        });\n\n        // Handle null/undefined result\n        if (!result || !result.data) {\n          console.log('No contacts data returned');\n          return [];\n        }\n        var data = result.data;\n        var importedContacts = data.filter(contact => contact.name) // Only contacts with names\n        .map(contact => ({\n          name: contact.name || 'Unknown',\n          phoneNumbers: contact.phoneNumbers?.map(p => p.number || '') || [],\n          emails: contact.emails?.map(e => e.email || '') || [],\n          company: contact.company,\n          jobTitle: contact.jobTitle,\n          birthday: contact.birthday ? new Date(contact.birthday.year || 2000, (contact.birthday.month || 1) - 1, contact.birthday.day || 1).toLocaleDateString() : undefined,\n          image: contact.image,\n          id: contact.id\n        }));\n        console.log(`Imported ${importedContacts.length} contacts with full data`);\n        return importedContacts;\n      } catch (error) {\n        console.error('Error importing contacts:', error);\n        throw error;\n      }\n    });\n    return _importPhoneContacts.apply(this, arguments);\n  }\n  function formatContactForCRM(importedContact) {\n    return {\n      name: importedContact.name,\n      job: importedContact.jobTitle || importedContact.company || '',\n      phone: importedContact.phoneNumbers && importedContact.phoneNumbers.length > 0 ? importedContact.phoneNumbers[0] : '',\n      email: importedContact.emails && importedContact.emails.length > 0 ? importedContact.emails[0] : '',\n      birthday: importedContact.birthday || '',\n      profile_picture: importedContact.image?.uri || '',\n      device_contact_id: importedContact.id || '',\n      tags: [],\n      groups: [],\n      pipeline_stage: 'New',\n      // NEW: Imported contacts go to \"New\" stage\n      language: 'English',\n      tone: 'Casual',\n      notes: `Imported from phone contacts`\n    };\n  }\n});","lineCount":121,"map":[[27,2,15,0,"exports"],[27,9,15,0],[27,10,15,0,"requestContactsPermission"],[27,35,15,0],[27,38,15,0,"requestContactsPermission"],[27,63,15,0],[28,2,32,0,"exports"],[28,9,32,0],[28,10,32,0,"importPhoneContacts"],[28,29,32,0],[28,32,32,0,"importPhoneContacts"],[28,51,32,0],[29,2,88,0,"exports"],[29,9,88,0],[29,10,88,0,"formatContactForCRM"],[29,29,88,0],[29,32,88,0,"formatContactForCRM"],[29,51,88,0],[30,2,104,1],[30,6,104,1,"_babelRuntimeHelpersAsyncToGenerator"],[30,42,104,1],[30,45,104,1,"require"],[30,52,104,1],[30,53,104,1,"_dependencyMap"],[30,67,104,1],[31,2,104,1],[31,6,104,1,"_asyncToGenerator"],[31,23,104,1],[31,26,104,1,"_interopDefault"],[31,41,104,1],[31,42,104,1,"_babelRuntimeHelpersAsyncToGenerator"],[31,78,104,1],[32,2,1,0],[32,6,1,0,"_expoContacts"],[32,19,1,0],[32,22,1,0,"require"],[32,29,1,0],[32,30,1,0,"_dependencyMap"],[32,44,1,0],[33,2,1,0],[33,6,1,0,"Contacts"],[33,14,1,0],[33,17,1,0,"_interopNamespace"],[33,34,1,0],[33,35,1,0,"_expoContacts"],[33,48,1,0],[34,2,2,0],[34,6,2,0,"_reactNative"],[34,18,2,0],[34,21,2,0,"require"],[34,28,2,0],[34,29,2,0,"_dependencyMap"],[34,43,2,0],[35,2,2,40],[35,11,15,22,"requestContactsPermission"],[35,36,15,47,"requestContactsPermission"],[35,37,15,47],[36,4,15,47],[36,11,15,47,"_requestContactsPermission"],[36,37,15,47],[36,38,15,47,"apply"],[36,43,15,47],[36,50,15,47,"arguments"],[36,59,15,47],[37,2,15,47],[38,2,15,47],[38,11,15,47,"_requestContactsPermission"],[38,38,15,47],[39,4,15,47,"_requestContactsPermission"],[39,30,15,47],[39,37,15,47,"_asyncToGenerator"],[39,54,15,47],[39,55,15,47,"default"],[39,62,15,47],[39,64,15,7],[39,77,15,68],[40,6,16,2],[40,10,16,6],[41,8,17,4],[41,12,17,4,"_yield$Contacts$getPe"],[41,33,17,4],[41,42,17,45,"Contacts"],[41,50,17,53],[41,51,17,54,"getPermissionsAsync"],[41,70,17,73],[41,71,17,74],[41,72,17,75],[42,10,17,20,"existingStatus"],[42,24,17,34],[42,27,17,34,"_yield$Contacts$getPe"],[42,48,17,34],[42,49,17,12,"status"],[42,55,17,18],[43,8,18,4],[43,12,18,8,"finalStatus"],[43,23,18,19],[43,26,18,22,"existingStatus"],[43,40,18,36],[44,8,20,4],[44,12,20,8,"existingStatus"],[44,26,20,22],[44,31,20,27],[44,40,20,36],[44,42,20,38],[45,10,21,6],[45,14,21,6,"_yield$Contacts$reque"],[45,35,21,6],[45,44,21,31,"Contacts"],[45,52,21,39],[45,53,21,40,"requestPermissionsAsync"],[45,76,21,63],[45,77,21,64],[45,78,21,65],[46,12,21,14,"status"],[46,18,21,20],[46,21,21,20,"_yield$Contacts$reque"],[46,42,21,20],[46,43,21,14,"status"],[46,49,21,20],[47,10,22,6,"finalStatus"],[47,21,22,17],[47,24,22,20,"status"],[47,30,22,26],[48,8,23,4],[49,8,25,4],[49,15,25,11,"finalStatus"],[49,26,25,22],[49,31,25,27],[49,40,25,36],[50,6,26,2],[50,7,26,3],[50,8,26,4],[50,15,26,11,"error"],[50,20,26,16],[50,22,26,18],[51,8,27,4,"console"],[51,15,27,11],[51,16,27,12,"error"],[51,21,27,17],[51,22,27,18],[51,61,27,57],[51,63,27,59,"error"],[51,68,27,64],[51,69,27,65],[52,8,28,4],[52,15,28,11],[52,20,28,16],[53,6,29,2],[54,4,30,0],[54,5,30,1],[55,4,30,1],[55,11,30,1,"_requestContactsPermission"],[55,37,30,1],[55,38,30,1,"apply"],[55,43,30,1],[55,50,30,1,"arguments"],[55,59,30,1],[56,2,30,1],[57,2,30,1],[57,11,32,22,"importPhoneContacts"],[57,30,32,41,"importPhoneContacts"],[57,31,32,41],[58,4,32,41],[58,11,32,41,"_importPhoneContacts"],[58,31,32,41],[58,32,32,41,"apply"],[58,37,32,41],[58,44,32,41,"arguments"],[58,53,32,41],[59,2,32,41],[60,2,32,41],[60,11,32,41,"_importPhoneContacts"],[60,32,32,41],[61,4,32,41,"_importPhoneContacts"],[61,24,32,41],[61,31,32,41,"_asyncToGenerator"],[61,48,32,41],[61,49,32,41,"default"],[61,56,32,41],[61,58,32,7],[61,71,32,72],[62,6,33,2],[62,10,33,6],[63,8,34,4],[63,12,34,10,"hasPermission"],[63,25,34,23],[63,34,34,32,"requestContactsPermission"],[63,59,34,57],[63,60,34,58],[63,61,34,59],[64,8,36,4],[64,12,36,8],[64,13,36,9,"hasPermission"],[64,26,36,22],[64,28,36,24],[65,10,37,6],[65,16,37,12],[65,20,37,16,"Error"],[65,25,37,21],[65,26,37,22],[65,59,37,55],[65,60,37,56],[66,8,38,4],[68,8,40,4],[69,8,41,4],[69,12,41,8,"Platform"],[69,24,41,16],[69,25,41,16,"Platform"],[69,33,41,16],[69,34,41,17,"OS"],[69,36,41,19],[69,41,41,24],[69,46,41,29],[69,48,41,31],[70,10,42,6,"console"],[70,17,42,13],[70,18,42,14,"log"],[70,21,42,17],[70,22,42,18],[70,53,42,49],[70,54,42,50],[71,10,43,6],[71,17,43,13],[71,19,43,15],[72,8,44,4],[73,8,46,4],[73,12,46,10,"result"],[73,18,46,16],[73,27,46,25,"Contacts"],[73,35,46,33],[73,36,46,34,"getContactsAsync"],[73,52,46,50],[73,53,46,51],[74,10,47,6,"fields"],[74,16,47,12],[74,18,47,14],[74,19,48,8,"Contacts"],[74,27,48,16],[74,28,48,17,"Fields"],[74,34,48,23],[74,35,48,24,"Name"],[74,39,48,28],[74,41,49,8,"Contacts"],[74,49,49,16],[74,50,49,17,"Fields"],[74,56,49,23],[74,57,49,24,"PhoneNumbers"],[74,69,49,36],[74,71,50,8,"Contacts"],[74,79,50,16],[74,80,50,17,"Fields"],[74,86,50,23],[74,87,50,24,"Emails"],[74,93,50,30],[74,95,51,8,"Contacts"],[74,103,51,16],[74,104,51,17,"Fields"],[74,110,51,23],[74,111,51,24,"Company"],[74,118,51,31],[74,120,52,8,"Contacts"],[74,128,52,16],[74,129,52,17,"Fields"],[74,135,52,23],[74,136,52,24,"JobTitle"],[74,144,52,32],[74,146,53,8,"Contacts"],[74,154,53,16],[74,155,53,17,"Fields"],[74,161,53,23],[74,162,53,24,"Birthday"],[74,170,53,32],[74,172,54,8,"Contacts"],[74,180,54,16],[74,181,54,17,"Fields"],[74,187,54,23],[74,188,54,24,"Image"],[74,193,54,29],[74,195,55,8,"Contacts"],[74,203,55,16],[74,204,55,17,"Fields"],[74,210,55,23],[74,211,55,24,"ID"],[74,213,55,26],[75,8,57,4],[75,9,57,5],[75,10,57,6],[77,8,59,4],[78,8,60,4],[78,12,60,8],[78,13,60,9,"result"],[78,19,60,15],[78,23,60,19],[78,24,60,20,"result"],[78,30,60,26],[78,31,60,27,"data"],[78,35,60,31],[78,37,60,33],[79,10,61,6,"console"],[79,17,61,13],[79,18,61,14,"log"],[79,21,61,17],[79,22,61,18],[79,49,61,45],[79,50,61,46],[80,10,62,6],[80,17,62,13],[80,19,62,15],[81,8,63,4],[82,8,65,4],[82,12,65,12,"data"],[82,16,65,16],[82,19,65,21,"result"],[82,25,65,27],[82,26,65,12,"data"],[82,30,65,16],[83,8,67,4],[83,12,67,10,"importedContacts"],[83,28,67,45],[83,31,67,48,"data"],[83,35,67,52],[83,36,68,7,"filter"],[83,42,68,13],[83,43,68,15,"contact"],[83,50,68,22],[83,54,68,27,"contact"],[83,61,68,34],[83,62,68,35,"name"],[83,66,68,39],[83,67,68,40],[83,68,68,41],[84,8,68,41],[84,9,69,7,"map"],[84,12,69,10],[84,13,69,12,"contact"],[84,20,69,19],[84,25,69,25],[85,10,70,8,"name"],[85,14,70,12],[85,16,70,14,"contact"],[85,23,70,21],[85,24,70,22,"name"],[85,28,70,26],[85,32,70,30],[85,41,70,39],[86,10,71,8,"phoneNumbers"],[86,22,71,20],[86,24,71,22,"contact"],[86,31,71,29],[86,32,71,30,"phoneNumbers"],[86,44,71,42],[86,46,71,44,"map"],[86,49,71,47],[86,50,71,49,"p"],[86,51,71,50],[86,55,71,55,"p"],[86,56,71,56],[86,57,71,57,"number"],[86,63,71,63],[86,67,71,67],[86,69,71,69],[86,70,71,70],[86,74,71,74],[86,76,71,76],[87,10,72,8,"emails"],[87,16,72,14],[87,18,72,16,"contact"],[87,25,72,23],[87,26,72,24,"emails"],[87,32,72,30],[87,34,72,32,"map"],[87,37,72,35],[87,38,72,37,"e"],[87,39,72,38],[87,43,72,43,"e"],[87,44,72,44],[87,45,72,45,"email"],[87,50,72,50],[87,54,72,54],[87,56,72,56],[87,57,72,57],[87,61,72,61],[87,63,72,63],[88,10,73,8,"company"],[88,17,73,15],[88,19,73,17,"contact"],[88,26,73,24],[88,27,73,25,"company"],[88,34,73,32],[89,10,74,8,"jobTitle"],[89,18,74,16],[89,20,74,18,"contact"],[89,27,74,25],[89,28,74,26,"jobTitle"],[89,36,74,34],[90,10,75,8,"birthday"],[90,18,75,16],[90,20,75,18,"contact"],[90,27,75,25],[90,28,75,26,"birthday"],[90,36,75,34],[90,39,75,37],[90,43,75,41,"Date"],[90,47,75,45],[90,48,75,46,"contact"],[90,55,75,53],[90,56,75,54,"birthday"],[90,64,75,62],[90,65,75,63,"year"],[90,69,75,67],[90,73,75,71],[90,77,75,75],[90,79,75,77],[90,80,75,78,"contact"],[90,87,75,85],[90,88,75,86,"birthday"],[90,96,75,94],[90,97,75,95,"month"],[90,102,75,100],[90,106,75,104],[90,107,75,105],[90,111,75,109],[90,112,75,110],[90,114,75,112,"contact"],[90,121,75,119],[90,122,75,120,"birthday"],[90,130,75,128],[90,131,75,129,"day"],[90,134,75,132],[90,138,75,136],[90,139,75,137],[90,140,75,138],[90,141,75,139,"toLocaleDateString"],[90,159,75,157],[90,160,75,158],[90,161,75,159],[90,164,75,162,"undefined"],[90,173,75,171],[91,10,76,8,"image"],[91,15,76,13],[91,17,76,15,"contact"],[91,24,76,22],[91,25,76,23,"image"],[91,30,76,28],[92,10,77,8,"id"],[92,12,77,10],[92,14,77,12,"contact"],[92,21,77,19],[92,22,77,20,"id"],[93,8,78,6],[93,9,78,7],[93,10,78,8],[93,11,78,9],[94,8,80,4,"console"],[94,15,80,11],[94,16,80,12,"log"],[94,19,80,15],[94,20,80,16],[94,32,80,28,"importedContacts"],[94,48,80,44],[94,49,80,45,"length"],[94,55,80,51],[94,81,80,77],[94,82,80,78],[95,8,81,4],[95,15,81,11,"importedContacts"],[95,31,81,27],[96,6,82,2],[96,7,82,3],[96,8,82,4],[96,15,82,11,"error"],[96,20,82,16],[96,22,82,18],[97,8,83,4,"console"],[97,15,83,11],[97,16,83,12,"error"],[97,21,83,17],[97,22,83,18],[97,49,83,45],[97,51,83,47,"error"],[97,56,83,52],[97,57,83,53],[98,8,84,4],[98,14,84,10,"error"],[98,19,84,15],[99,6,85,2],[100,4,86,0],[100,5,86,1],[101,4,86,1],[101,11,86,1,"_importPhoneContacts"],[101,31,86,1],[101,32,86,1,"apply"],[101,37,86,1],[101,44,86,1,"arguments"],[101,53,86,1],[102,2,86,1],[103,2,88,7],[103,11,88,16,"formatContactForCRM"],[103,30,88,35,"formatContactForCRM"],[103,31,88,36,"importedContact"],[103,46,88,68],[103,48,88,70],[104,4,89,2],[104,11,89,9],[105,6,90,4,"name"],[105,10,90,8],[105,12,90,10,"importedContact"],[105,27,90,25],[105,28,90,26,"name"],[105,32,90,30],[106,6,91,4,"job"],[106,9,91,7],[106,11,91,9,"importedContact"],[106,26,91,24],[106,27,91,25,"jobTitle"],[106,35,91,33],[106,39,91,37,"importedContact"],[106,54,91,52],[106,55,91,53,"company"],[106,62,91,60],[106,66,91,64],[106,68,91,66],[107,6,92,4,"phone"],[107,11,92,9],[107,13,92,11,"importedContact"],[107,28,92,26],[107,29,92,27,"phoneNumbers"],[107,41,92,39],[107,45,92,43,"importedContact"],[107,60,92,58],[107,61,92,59,"phoneNumbers"],[107,73,92,71],[107,74,92,72,"length"],[107,80,92,78],[107,83,92,81],[107,84,92,82],[107,87,92,85,"importedContact"],[107,102,92,100],[107,103,92,101,"phoneNumbers"],[107,115,92,113],[107,116,92,114],[107,117,92,115],[107,118,92,116],[107,121,92,119],[107,123,92,121],[108,6,93,4,"email"],[108,11,93,9],[108,13,93,11,"importedContact"],[108,28,93,26],[108,29,93,27,"emails"],[108,35,93,33],[108,39,93,37,"importedContact"],[108,54,93,52],[108,55,93,53,"emails"],[108,61,93,59],[108,62,93,60,"length"],[108,68,93,66],[108,71,93,69],[108,72,93,70],[108,75,93,73,"importedContact"],[108,90,93,88],[108,91,93,89,"emails"],[108,97,93,95],[108,98,93,96],[108,99,93,97],[108,100,93,98],[108,103,93,101],[108,105,93,103],[109,6,94,4,"birthday"],[109,14,94,12],[109,16,94,14,"importedContact"],[109,31,94,29],[109,32,94,30,"birthday"],[109,40,94,38],[109,44,94,42],[109,46,94,44],[110,6,95,4,"profile_picture"],[110,21,95,19],[110,23,95,21,"importedContact"],[110,38,95,36],[110,39,95,37,"image"],[110,44,95,42],[110,46,95,44,"uri"],[110,49,95,47],[110,53,95,51],[110,55,95,53],[111,6,96,4,"device_contact_id"],[111,23,96,21],[111,25,96,23,"importedContact"],[111,40,96,38],[111,41,96,39,"id"],[111,43,96,41],[111,47,96,45],[111,49,96,47],[112,6,97,4,"tags"],[112,10,97,8],[112,12,97,10],[112,14,97,12],[113,6,98,4,"groups"],[113,12,98,10],[113,14,98,12],[113,16,98,14],[114,6,99,4,"pipeline_stage"],[114,20,99,18],[114,22,99,20],[114,27,99,25],[115,6,99,28],[116,6,100,4,"language"],[116,14,100,12],[116,16,100,14],[116,25,100,23],[117,6,101,4,"tone"],[117,10,101,8],[117,12,101,10],[117,20,101,18],[118,6,102,4,"notes"],[118,11,102,9],[118,13,102,11],[119,4,103,2],[119,5,103,3],[120,2,104,0],[121,0,104,1],[121,3]],"functionMap":{"names":["<global>","requestContactsPermission","importPhoneContacts","data.filter$argument_0","data.filter.map$argument_0","contact.phoneNumbers.map$argument_0","contact.emails.map$argument_0","formatContactForCRM"],"mappings":"AAA;OCc;CDe;OEE;cCoC,yBD;WEC;gDCE,qBD;oCEC,oBF;QFM;CFQ;OOE;CPgB"},"hasCjsExports":false},"type":"js/module"}]}