{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":78,"index":78}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":79},"end":{"line":2,"column":69,"index":148}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":149},"end":{"line":3,"column":26,"index":175}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/context/AuthContext.tsx\";\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"AuthProvider\", {\n    enumerable: true,\n    get: function () {\n      return AuthProvider;\n    }\n  });\n  Object.defineProperty(exports, \"useAuth\", {\n    enumerable: true,\n    get: function () {\n      return useAuth;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _axios = require(_dependencyMap[2], \"axios\");\n  var axios = _interopDefault(_axios);\n  var _reactJsxDevRuntime = require(_dependencyMap[3], \"react/jsx-dev-runtime\");\n  const EXPO_PUBLIC_BACKEND_URL = process.env.EXPO_PUBLIC_BACKEND_URL;\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  const AuthProvider = ({\n    children\n  }) => {\n    const [user, setUser] = (0, _react.useState)(null);\n    const [token, setToken] = (0, _react.useState)(null);\n    const [loading, setLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      loadStoredAuth();\n    }, []);\n    const loadStoredAuth = async () => {\n      try {\n        const storedToken = await AsyncStorage.default.getItem('auth_token');\n        const storedUser = await AsyncStorage.default.getItem('user');\n        if (storedToken && storedUser) {\n          setToken(storedToken);\n          setUser(JSON.parse(storedUser));\n\n          // Set default auth header\n          axios.default.defaults.headers.common['Authorization'] = `Bearer ${storedToken}`;\n        }\n      } catch (error) {\n        console.error('Error loading stored auth:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    const logout = async () => {\n      try {\n        // Clear state\n        setToken(null);\n        setUser(null);\n\n        // Clear AsyncStorage\n        await AsyncStorage.default.removeItem('auth_token');\n        await AsyncStorage.default.removeItem('user');\n\n        // Remove auth header\n        delete axios.default.defaults.headers.common['Authorization'];\n      } catch (error) {\n        console.error('Logout error:', error);\n      }\n    };\n    const loginWithGoogle = async (accessToken, userData) => {\n      try {\n        // Store in state\n        setToken(accessToken);\n        setUser(userData);\n\n        // Store in AsyncStorage\n        await AsyncStorage.default.setItem('auth_token', accessToken);\n        await AsyncStorage.default.setItem('user', JSON.stringify(userData));\n\n        // Set default auth header\n        axios.default.defaults.headers.common['Authorization'] = `Bearer ${accessToken}`;\n      } catch (error) {\n        console.error('Google login error:', error);\n        throw error;\n      }\n    };\n    const updateUser = async userData => {\n      try {\n        if (user) {\n          const updatedUser = {\n            ...user,\n            ...userData\n          };\n          setUser(updatedUser);\n          await AsyncStorage.default.setItem('user', JSON.stringify(updatedUser));\n        }\n      } catch (error) {\n        console.error('Error updating user:', error);\n      }\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        user,\n        token,\n        loginWithGoogle,\n        logout,\n        loading,\n        updateUser\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 5\n    }, this);\n  };\n  const useAuth = () => {\n    const context = (0, _react.useContext)(AuthContext);\n    if (context === undefined) {\n      throw new Error('useAuth must be used within an AuthProvider');\n    }\n    return context;\n  };\n});","lineCount":129,"map":[[13,2,27,0,"Object"],[13,8,27,0],[13,9,27,0,"defineProperty"],[13,23,27,0],[13,24,27,0,"exports"],[13,31,27,0],[14,4,27,0,"enumerable"],[14,14,27,0],[15,4,27,0,"get"],[15,7,27,0],[15,18,27,0,"get"],[15,19,27,0],[16,6,27,0],[16,13,27,0,"AuthProvider"],[16,25,27,0],[17,4,27,0],[18,2,27,0],[19,2,109,0,"Object"],[19,8,109,0],[19,9,109,0,"defineProperty"],[19,23,109,0],[19,24,109,0,"exports"],[19,31,109,0],[20,4,109,0,"enumerable"],[20,14,109,0],[21,4,109,0,"get"],[21,7,109,0],[21,18,109,0,"get"],[21,19,109,0],[22,6,109,0],[22,13,109,0,"useAuth"],[22,20,109,0],[23,4,109,0],[24,2,109,0],[25,2,1,0],[25,6,1,0,"_react"],[25,12,1,0],[25,15,1,0,"require"],[25,22,1,0],[25,23,1,0,"_dependencyMap"],[25,37,1,0],[26,2,2,0],[26,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[26,42,2,0],[26,45,2,0,"require"],[26,52,2,0],[26,53,2,0,"_dependencyMap"],[26,67,2,0],[27,2,2,0],[27,6,2,0,"AsyncStorage"],[27,18,2,0],[27,21,2,0,"_interopDefault"],[27,36,2,0],[27,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[27,73,2,0],[28,2,3,0],[28,6,3,0,"_axios"],[28,12,3,0],[28,15,3,0,"require"],[28,22,3,0],[28,23,3,0,"_dependencyMap"],[28,37,3,0],[29,2,3,0],[29,6,3,0,"axios"],[29,11,3,0],[29,14,3,0,"_interopDefault"],[29,29,3,0],[29,30,3,0,"_axios"],[29,36,3,0],[30,2,3,26],[30,6,3,26,"_reactJsxDevRuntime"],[30,25,3,26],[30,28,3,26,"require"],[30,35,3,26],[30,36,3,26,"_dependencyMap"],[30,50,3,26],[31,2,5,0],[31,8,5,6,"EXPO_PUBLIC_BACKEND_URL"],[31,31,5,29],[31,34,5,32,"process"],[31,41,5,39],[31,42,5,40,"env"],[31,45,5,43],[31,46,5,44,"EXPO_PUBLIC_BACKEND_URL"],[31,69,5,67],[32,2,25,0],[32,8,25,6,"AuthContext"],[32,19,25,17],[32,35,25,20],[32,39,25,20,"createContext"],[32,45,25,33],[32,46,25,33,"createContext"],[32,59,25,33],[32,61,25,63,"undefined"],[32,70,25,72],[32,71,25,73],[33,2,27,7],[33,8,27,13,"AuthProvider"],[33,20,27,66],[33,23,27,69,"AuthProvider"],[33,24,27,70],[34,4,27,72,"children"],[35,2,27,81],[35,3,27,82],[35,8,27,87],[36,4,28,2],[36,10,28,8],[36,11,28,9,"user"],[36,15,28,13],[36,17,28,15,"setUser"],[36,24,28,22],[36,25,28,23],[36,28,28,26],[36,32,28,26,"useState"],[36,38,28,34],[36,39,28,34,"useState"],[36,47,28,34],[36,49,28,48],[36,53,28,52],[36,54,28,53],[37,4,29,2],[37,10,29,8],[37,11,29,9,"token"],[37,16,29,14],[37,18,29,16,"setToken"],[37,26,29,24],[37,27,29,25],[37,30,29,28],[37,34,29,28,"useState"],[37,40,29,36],[37,41,29,36,"useState"],[37,49,29,36],[37,51,29,52],[37,55,29,56],[37,56,29,57],[38,4,30,2],[38,10,30,8],[38,11,30,9,"loading"],[38,18,30,16],[38,20,30,18,"setLoading"],[38,30,30,28],[38,31,30,29],[38,34,30,32],[38,38,30,32,"useState"],[38,44,30,40],[38,45,30,40,"useState"],[38,53,30,40],[38,55,30,41],[38,59,30,45],[38,60,30,46],[39,4,32,2],[39,8,32,2,"useEffect"],[39,14,32,11],[39,15,32,11,"useEffect"],[39,24,32,11],[39,26,32,12],[39,32,32,18],[40,6,33,4,"loadStoredAuth"],[40,20,33,18],[40,21,33,19],[40,22,33,20],[41,4,34,2],[41,5,34,3],[41,7,34,5],[41,9,34,7],[41,10,34,8],[42,4,36,2],[42,10,36,8,"loadStoredAuth"],[42,24,36,22],[42,27,36,25],[42,33,36,25,"loadStoredAuth"],[42,34,36,25],[42,39,36,37],[43,6,37,4],[43,10,37,8],[44,8,38,6],[44,14,38,12,"storedToken"],[44,25,38,23],[44,28,38,26],[44,34,38,32,"AsyncStorage"],[44,46,38,44],[44,47,38,44,"default"],[44,54,38,44],[44,55,38,45,"getItem"],[44,62,38,52],[44,63,38,53],[44,75,38,65],[44,76,38,66],[45,8,39,6],[45,14,39,12,"storedUser"],[45,24,39,22],[45,27,39,25],[45,33,39,31,"AsyncStorage"],[45,45,39,43],[45,46,39,43,"default"],[45,53,39,43],[45,54,39,44,"getItem"],[45,61,39,51],[45,62,39,52],[45,68,39,58],[45,69,39,59],[46,8,41,6],[46,12,41,10,"storedToken"],[46,23,41,21],[46,27,41,25,"storedUser"],[46,37,41,35],[46,39,41,37],[47,10,42,8,"setToken"],[47,18,42,16],[47,19,42,17,"storedToken"],[47,30,42,28],[47,31,42,29],[48,10,43,8,"setUser"],[48,17,43,15],[48,18,43,16,"JSON"],[48,22,43,20],[48,23,43,21,"parse"],[48,28,43,26],[48,29,43,27,"storedUser"],[48,39,43,37],[48,40,43,38],[48,41,43,39],[50,10,45,8],[51,10,46,8,"axios"],[51,15,46,13],[51,16,46,13,"default"],[51,23,46,13],[51,24,46,14,"defaults"],[51,32,46,22],[51,33,46,23,"headers"],[51,40,46,30],[51,41,46,31,"common"],[51,47,46,37],[51,48,46,38],[51,63,46,53],[51,64,46,54],[51,67,46,57],[51,77,46,67,"storedToken"],[51,88,46,78],[51,90,46,80],[52,8,47,6],[53,6,48,4],[53,7,48,5],[53,8,48,6],[53,15,48,13,"error"],[53,20,48,18],[53,22,48,20],[54,8,49,6,"console"],[54,15,49,13],[54,16,49,14,"error"],[54,21,49,19],[54,22,49,20],[54,50,49,48],[54,52,49,50,"error"],[54,57,49,55],[54,58,49,56],[55,6,50,4],[55,7,50,5],[55,16,50,14],[56,8,51,6,"setLoading"],[56,18,51,16],[56,19,51,17],[56,24,51,22],[56,25,51,23],[57,6,52,4],[58,4,53,2],[58,5,53,3],[59,4,55,2],[59,10,55,8,"logout"],[59,16,55,14],[59,19,55,17],[59,25,55,17,"logout"],[59,26,55,17],[59,31,55,29],[60,6,56,4],[60,10,56,8],[61,8,57,6],[62,8,58,6,"setToken"],[62,16,58,14],[62,17,58,15],[62,21,58,19],[62,22,58,20],[63,8,59,6,"setUser"],[63,15,59,13],[63,16,59,14],[63,20,59,18],[63,21,59,19],[65,8,61,6],[66,8,62,6],[66,14,62,12,"AsyncStorage"],[66,26,62,24],[66,27,62,24,"default"],[66,34,62,24],[66,35,62,25,"removeItem"],[66,45,62,35],[66,46,62,36],[66,58,62,48],[66,59,62,49],[67,8,63,6],[67,14,63,12,"AsyncStorage"],[67,26,63,24],[67,27,63,24,"default"],[67,34,63,24],[67,35,63,25,"removeItem"],[67,45,63,35],[67,46,63,36],[67,52,63,42],[67,53,63,43],[69,8,65,6],[70,8,66,6],[70,15,66,13,"axios"],[70,20,66,18],[70,21,66,18,"default"],[70,28,66,18],[70,29,66,19,"defaults"],[70,37,66,27],[70,38,66,28,"headers"],[70,45,66,35],[70,46,66,36,"common"],[70,52,66,42],[70,53,66,43],[70,68,66,58],[70,69,66,59],[71,6,67,4],[71,7,67,5],[71,8,67,6],[71,15,67,13,"error"],[71,20,67,18],[71,22,67,20],[72,8,68,6,"console"],[72,15,68,13],[72,16,68,14,"error"],[72,21,68,19],[72,22,68,20],[72,37,68,35],[72,39,68,37,"error"],[72,44,68,42],[72,45,68,43],[73,6,69,4],[74,4,70,2],[74,5,70,3],[75,4,72,2],[75,10,72,8,"loginWithGoogle"],[75,25,72,23],[75,28,72,26],[75,34,72,26,"loginWithGoogle"],[75,35,72,33,"accessToken"],[75,46,72,52],[75,48,72,54,"userData"],[75,56,72,68],[75,61,72,73],[76,6,73,4],[76,10,73,8],[77,8,74,6],[78,8,75,6,"setToken"],[78,16,75,14],[78,17,75,15,"accessToken"],[78,28,75,26],[78,29,75,27],[79,8,76,6,"setUser"],[79,15,76,13],[79,16,76,14,"userData"],[79,24,76,22],[79,25,76,23],[81,8,78,6],[82,8,79,6],[82,14,79,12,"AsyncStorage"],[82,26,79,24],[82,27,79,24,"default"],[82,34,79,24],[82,35,79,25,"setItem"],[82,42,79,32],[82,43,79,33],[82,55,79,45],[82,57,79,47,"accessToken"],[82,68,79,58],[82,69,79,59],[83,8,80,6],[83,14,80,12,"AsyncStorage"],[83,26,80,24],[83,27,80,24,"default"],[83,34,80,24],[83,35,80,25,"setItem"],[83,42,80,32],[83,43,80,33],[83,49,80,39],[83,51,80,41,"JSON"],[83,55,80,45],[83,56,80,46,"stringify"],[83,65,80,55],[83,66,80,56,"userData"],[83,74,80,64],[83,75,80,65],[83,76,80,66],[85,8,82,6],[86,8,83,6,"axios"],[86,13,83,11],[86,14,83,11,"default"],[86,21,83,11],[86,22,83,12,"defaults"],[86,30,83,20],[86,31,83,21,"headers"],[86,38,83,28],[86,39,83,29,"common"],[86,45,83,35],[86,46,83,36],[86,61,83,51],[86,62,83,52],[86,65,83,55],[86,75,83,65,"accessToken"],[86,86,83,76],[86,88,83,78],[87,6,84,4],[87,7,84,5],[87,8,84,6],[87,15,84,13,"error"],[87,20,84,18],[87,22,84,20],[88,8,85,6,"console"],[88,15,85,13],[88,16,85,14,"error"],[88,21,85,19],[88,22,85,20],[88,43,85,41],[88,45,85,43,"error"],[88,50,85,48],[88,51,85,49],[89,8,86,6],[89,14,86,12,"error"],[89,19,86,17],[90,6,87,4],[91,4,88,2],[91,5,88,3],[92,4,90,2],[92,10,90,8,"updateUser"],[92,20,90,18],[92,23,90,21],[92,29,90,28,"userData"],[92,37,90,51],[92,41,90,56],[93,6,91,4],[93,10,91,8],[94,8,92,6],[94,12,92,10,"user"],[94,16,92,14],[94,18,92,16],[95,10,93,8],[95,16,93,14,"updatedUser"],[95,27,93,25],[95,30,93,28],[96,12,93,30],[96,15,93,33,"user"],[96,19,93,37],[97,12,93,39],[97,15,93,42,"userData"],[98,10,93,51],[98,11,93,52],[99,10,94,8,"setUser"],[99,17,94,15],[99,18,94,16,"updatedUser"],[99,29,94,27],[99,30,94,28],[100,10,95,8],[100,16,95,14,"AsyncStorage"],[100,28,95,26],[100,29,95,26,"default"],[100,36,95,26],[100,37,95,27,"setItem"],[100,44,95,34],[100,45,95,35],[100,51,95,41],[100,53,95,43,"JSON"],[100,57,95,47],[100,58,95,48,"stringify"],[100,67,95,57],[100,68,95,58,"updatedUser"],[100,79,95,69],[100,80,95,70],[100,81,95,71],[101,8,96,6],[102,6,97,4],[102,7,97,5],[102,8,97,6],[102,15,97,13,"error"],[102,20,97,18],[102,22,97,20],[103,8,98,6,"console"],[103,15,98,13],[103,16,98,14,"error"],[103,21,98,19],[103,22,98,20],[103,44,98,42],[103,46,98,44,"error"],[103,51,98,49],[103,52,98,50],[104,6,99,4],[105,4,100,2],[105,5,100,3],[106,4,102,2],[106,24,103,4],[106,28,103,4,"_reactJsxDevRuntime"],[106,47,103,4],[106,48,103,4,"jsxDEV"],[106,54,103,4],[106,56,103,5,"AuthContext"],[106,67,103,16],[106,68,103,17,"Provider"],[106,76,103,25],[107,6,103,26,"value"],[107,11,103,31],[107,13,103,33],[108,8,103,35,"user"],[108,12,103,39],[109,8,103,41,"token"],[109,13,103,46],[110,8,103,48,"loginWithGoogle"],[110,23,103,63],[111,8,103,65,"logout"],[111,14,103,71],[112,8,103,73,"loading"],[112,15,103,80],[113,8,103,82,"updateUser"],[114,6,103,93],[114,7,103,95],[115,6,103,95,"children"],[115,14,103,95],[115,16,104,7,"children"],[116,4,104,15],[117,6,104,15,"fileName"],[117,14,104,15],[117,16,104,15,"_jsxFileName"],[117,28,104,15],[118,6,104,15,"lineNumber"],[118,16,104,15],[119,6,104,15,"columnNumber"],[119,18,104,15],[120,4,104,15],[120,11,105,26],[120,12,105,27],[121,2,107,0],[121,3,107,1],[122,2,109,7],[122,8,109,13,"useAuth"],[122,15,109,20],[122,18,109,23,"useAuth"],[122,19,109,23],[122,24,109,29],[123,4,110,2],[123,10,110,8,"context"],[123,17,110,15],[123,20,110,18],[123,24,110,18,"useContext"],[123,30,110,28],[123,31,110,28,"useContext"],[123,41,110,28],[123,43,110,29,"AuthContext"],[123,54,110,40],[123,55,110,41],[124,4,111,2],[124,8,111,6,"context"],[124,15,111,13],[124,20,111,18,"undefined"],[124,29,111,27],[124,31,111,29],[125,6,112,4],[125,12,112,10],[125,16,112,14,"Error"],[125,21,112,19],[125,22,112,20],[125,67,112,65],[125,68,112,66],[126,4,113,2],[127,4,114,2],[127,11,114,9,"context"],[127,18,114,16],[128,2,115,0],[128,3,115,1],[129,0,115,2],[129,3]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","loadStoredAuth","logout","loginWithGoogle","updateUser","useAuth"],"mappings":"AAA;qEC0B;YCK;GDE;yBEE;GFiB;iBGE;GHe;0BIE;GJgB;qBKE;GLU;CDO;uBOE;CPM"},"hasCjsExports":false},"type":"js/module"}]}